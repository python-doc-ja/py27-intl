
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
        <table class="diff" id="difflib_chg_to272__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">rest25/library/weakref.rst =&gt; rest262/library/weakref.rst</th></tr></thead>
            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to272__0"></td><td class="diff_header" id="from272_10">10</td><td nowrap="nowrap">..&nbsp;sectionauthor::&nbsp;Fred&nbsp;L.&nbsp;Drake,&nbsp;Jr.&nbsp;&lt;fdrake@acm.org&gt;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_11">11</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_12">12</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_13">13</td><td nowrap="nowrap">..&nbsp;versionadded::&nbsp;2.1</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_14">14</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_15">15</td><td nowrap="nowrap">The&nbsp;:mod:`weakref`&nbsp;module&nbsp;allows&nbsp;the&nbsp;Python&nbsp;programmer&nbsp;to&nbsp;create&nbsp;:dfn:`weak</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_16">16</td><td nowrap="nowrap">references`&nbsp;to&nbsp;objects.</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__1"></td><td class="diff_header" id="from272_17">17</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__1">n</a></td><td class="diff_header" id="from272_18">18-</td><td nowrap="nowrap">..<span class="diff_sub">&nbsp;%</span>&nbsp;When&nbsp;making&nbsp;changes&nbsp;to&nbsp;the&nbsp;examples&nbsp;in&nbsp;this&nbsp;file,&nbsp;be&nbsp;sure&nbsp;to&nbsp;update</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__1">n</a></td><td class="diff_header" id="to272_18">18+</td><td nowrap="nowrap">..&nbsp;When&nbsp;making&nbsp;changes&nbsp;to&nbsp;the&nbsp;examples&nbsp;in&nbsp;this&nbsp;file,&nbsp;be&nbsp;sure&nbsp;to&nbsp;update</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_19">19-</td><td nowrap="nowrap"><span class="diff_chg">..&nbsp;%</span>&nbsp;Lib/test/test_weakref.py::libreftest&nbsp;too!</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_19">19+</td><td nowrap="nowrap"><span class="diff_chg">&nbsp;&nbsp;</span>&nbsp;Lib/test/test_weakref.py::libreftest&nbsp;too!</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_20">20</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_21">21</td><td nowrap="nowrap">In&nbsp;the&nbsp;following,&nbsp;the&nbsp;term&nbsp;:dfn:`referent`&nbsp;means&nbsp;the&nbsp;object&nbsp;which&nbsp;is&nbsp;referred&nbsp;to</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_22">22</td><td nowrap="nowrap">by&nbsp;a&nbsp;weak&nbsp;reference.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_23">23</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_24">24</td><td nowrap="nowrap">A&nbsp;weak&nbsp;reference&nbsp;to&nbsp;an&nbsp;object&nbsp;is&nbsp;not&nbsp;enough&nbsp;to&nbsp;keep&nbsp;the&nbsp;object&nbsp;alive:&nbsp;when&nbsp;the</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__2">n</a></td><td class="diff_header" id="from272_25">25-</td><td nowrap="nowrap">only&nbsp;remaining&nbsp;references&nbsp;to&nbsp;a&nbsp;referent&nbsp;are&nbsp;weak&nbsp;references,<span class="diff_sub">&nbsp;garbage&nbsp;collection</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__2">n</a></td><td class="diff_header" id="to272_25">25+</td><td nowrap="nowrap">only&nbsp;remaining&nbsp;references&nbsp;to&nbsp;a&nbsp;referent&nbsp;are&nbsp;weak&nbsp;references,</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_26">26-</td><td nowrap="nowrap"><span class="diff_sub">is&nbsp;free&nbsp;to&nbsp;destroy&nbsp;the&nbsp;referent&nbsp;and&nbsp;reuse&nbsp;its&nbsp;memory&nbsp;for&nbsp;something&nbsp;else.&nbsp;&nbsp;A</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_26">26+</td><td nowrap="nowrap"><span class="diff_add">:term:`garbage&nbsp;collection`&nbsp;is&nbsp;free&nbsp;to&nbsp;destroy&nbsp;the&nbsp;referent&nbsp;and&nbsp;reuse&nbsp;its&nbsp;memory</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_27">27-</td><td nowrap="nowrap"><span class="diff_sub">primary&nbsp;use&nbsp;for&nbsp;weak&nbsp;references&nbsp;is&nbsp;to&nbsp;implement&nbsp;caches&nbsp;or&nbsp;mappings&nbsp;holding&nbsp;large</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_27">27+</td><td nowrap="nowrap"><span class="diff_add">for&nbsp;something&nbsp;else.&nbsp;&nbsp;A&nbsp;primary&nbsp;use&nbsp;for&nbsp;weak&nbsp;references&nbsp;is&nbsp;to&nbsp;implement&nbsp;caches&nbsp;or</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_28">28-</td><td nowrap="nowrap"><span class="diff_sub">objects,&nbsp;where&nbsp;it's&nbsp;desired&nbsp;that&nbsp;a&nbsp;large&nbsp;object&nbsp;not&nbsp;be&nbsp;kept&nbsp;alive&nbsp;solely&nbsp;because</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_28">28+</td><td nowrap="nowrap"><span class="diff_add">mappings&nbsp;holding&nbsp;large&nbsp;objects,&nbsp;where&nbsp;it's&nbsp;desired&nbsp;that&nbsp;a&nbsp;large&nbsp;object&nbsp;not&nbsp;be</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_29">29-</td><td nowrap="nowrap"><span class="diff_sub">it&nbsp;appears&nbsp;in&nbsp;a&nbsp;cache&nbsp;or&nbsp;mapping.&nbsp;&nbsp;For&nbsp;example,&nbsp;if&nbsp;you&nbsp;have&nbsp;a&nbsp;number&nbsp;of&nbsp;large</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_29">29+</td><td nowrap="nowrap"><span class="diff_add">kept&nbsp;alive&nbsp;solely&nbsp;because&nbsp;it&nbsp;appears&nbsp;in&nbsp;a&nbsp;cache&nbsp;or&nbsp;mapping.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_30">30-</td><td nowrap="nowrap"><span class="diff_sub">binary&nbsp;image&nbsp;objects,&nbsp;you&nbsp;may&nbsp;wish&nbsp;to&nbsp;associate&nbsp;a&nbsp;name&nbsp;with&nbsp;each.&nbsp;&nbsp;If&nbsp;you&nbsp;used&nbsp;a</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_30">30+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_31">31-</td><td nowrap="nowrap"><span class="diff_sub">Python&nbsp;dictionary&nbsp;to&nbsp;map&nbsp;names&nbsp;to&nbsp;images,&nbsp;or&nbsp;images&nbsp;to&nbsp;names,&nbsp;the&nbsp;image&nbsp;objects</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_31">31+</td><td nowrap="nowrap"><span class="diff_add">For&nbsp;example,&nbsp;if&nbsp;you&nbsp;have&nbsp;a&nbsp;number&nbsp;of&nbsp;large&nbsp;binary&nbsp;image&nbsp;objects,&nbsp;you&nbsp;may&nbsp;wish&nbsp;to</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_32">32-</td><td nowrap="nowrap"><span class="diff_sub">would&nbsp;remain&nbsp;alive&nbsp;just&nbsp;because&nbsp;they&nbsp;appeared&nbsp;as&nbsp;values&nbsp;or&nbsp;keys&nbsp;in&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_32">32+</td><td nowrap="nowrap"><span class="diff_add">associate&nbsp;a&nbsp;name&nbsp;with&nbsp;each.&nbsp;&nbsp;If&nbsp;you&nbsp;used&nbsp;a&nbsp;Python&nbsp;dictionary&nbsp;to&nbsp;map&nbsp;names&nbsp;to</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_33">33+</td><td nowrap="nowrap"><span class="diff_add">images,&nbsp;or&nbsp;images&nbsp;to&nbsp;names,&nbsp;the&nbsp;image&nbsp;objects&nbsp;would&nbsp;remain&nbsp;alive&nbsp;just&nbsp;because</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_34">34+</td><td nowrap="nowrap"><span class="diff_add">they&nbsp;appeared&nbsp;as&nbsp;values&nbsp;or&nbsp;keys&nbsp;in&nbsp;the&nbsp;dictionaries.&nbsp;&nbsp;The</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_33">33-</td><td nowrap="nowrap"><span class="diff_sub">dictionaries.&nbsp;&nbsp;The&nbsp;</span>:class:`WeakKeyDictionary`&nbsp;and&nbsp;:class:`WeakValueDictionary`</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_35">35+</td><td nowrap="nowrap">:class:`WeakKeyDictionary`&nbsp;and&nbsp;:class:`WeakValueDictionary`<span class="diff_add">&nbsp;classes&nbsp;supplied&nbsp;by</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_34">34-</td><td nowrap="nowrap"><span class="diff_sub">classes&nbsp;supplied&nbsp;by&nbsp;the&nbsp;:mod:`weakref`&nbsp;module&nbsp;are&nbsp;an&nbsp;alternative,&nbsp;using&nbsp;weak</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_36">36+</td><td nowrap="nowrap"><span class="diff_add">the&nbsp;:mod:`weakref`&nbsp;module&nbsp;are&nbsp;an&nbsp;alternative,&nbsp;using&nbsp;weak&nbsp;references&nbsp;to&nbsp;construct</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_35">35-</td><td nowrap="nowrap"><span class="diff_sub">references&nbsp;to&nbsp;construct&nbsp;mappings&nbsp;that&nbsp;don't&nbsp;keep&nbsp;objects&nbsp;alive&nbsp;solely&nbsp;because</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_37">37+</td><td nowrap="nowrap"><span class="diff_add">mappings&nbsp;that&nbsp;don't&nbsp;keep&nbsp;objects&nbsp;alive&nbsp;solely&nbsp;because&nbsp;they&nbsp;appear&nbsp;in&nbsp;the&nbsp;mapping</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_36">36-</td><td nowrap="nowrap"><span class="diff_sub">they&nbsp;appear&nbsp;in&nbsp;the&nbsp;mapping&nbsp;</span>objects.&nbsp;&nbsp;If,&nbsp;for&nbsp;example,&nbsp;an&nbsp;image&nbsp;object&nbsp;is&nbsp;a&nbsp;value</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_38">38+</td><td nowrap="nowrap">objects.&nbsp;&nbsp;If,&nbsp;for&nbsp;example,&nbsp;an&nbsp;image&nbsp;object&nbsp;is&nbsp;a&nbsp;value<span class="diff_add">&nbsp;in&nbsp;a</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_37">37-</td><td nowrap="nowrap"><span class="diff_sub">in&nbsp;a&nbsp;</span>:class:`WeakValueDictionary`,&nbsp;then&nbsp;when&nbsp;the&nbsp;last&nbsp;remaining&nbsp;references&nbsp;to</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_39">39+</td><td nowrap="nowrap">:class:`WeakValueDictionary`,&nbsp;then&nbsp;when&nbsp;the&nbsp;last&nbsp;remaining&nbsp;references&nbsp;to<span class="diff_add">&nbsp;that</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_38">38-</td><td nowrap="nowrap"><span class="diff_sub">that&nbsp;</span>image&nbsp;object&nbsp;are&nbsp;the&nbsp;weak&nbsp;references&nbsp;held&nbsp;by&nbsp;weak&nbsp;mappings,&nbsp;garbage</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_40">40+</td><td nowrap="nowrap">image&nbsp;object&nbsp;are&nbsp;the&nbsp;weak&nbsp;references&nbsp;held&nbsp;by&nbsp;weak&nbsp;mappings,&nbsp;garbage<span class="diff_add">&nbsp;collection</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_39">39-</td><td nowrap="nowrap"><span class="diff_sub">collection&nbsp;</span>can&nbsp;reclaim&nbsp;the&nbsp;object,&nbsp;and&nbsp;its&nbsp;corresponding&nbsp;entries&nbsp;in&nbsp;weak</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_41">41+</td><td nowrap="nowrap">can&nbsp;reclaim&nbsp;the&nbsp;object,&nbsp;and&nbsp;its&nbsp;corresponding&nbsp;entries&nbsp;in&nbsp;weak<span class="diff_add">&nbsp;mappings&nbsp;are</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_40">40-</td><td nowrap="nowrap"><span class="diff_sub">mappings&nbsp;are&nbsp;simply&nbsp;deleted.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_42">42+</td><td nowrap="nowrap"><span class="diff_add">simply&nbsp;deleted.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_41">41</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_42">42</td><td nowrap="nowrap">:class:`WeakKeyDictionary`&nbsp;and&nbsp;:class:`WeakValueDictionary`&nbsp;use&nbsp;weak&nbsp;references</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__2"></td><td class="diff_header" id="from272_43">43</td><td nowrap="nowrap">in&nbsp;their&nbsp;implementation,&nbsp;setting&nbsp;up&nbsp;callback&nbsp;functions&nbsp;on&nbsp;the&nbsp;weak&nbsp;references</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_44">44</td><td nowrap="nowrap">that&nbsp;notify&nbsp;the&nbsp;weak&nbsp;dictionaries&nbsp;when&nbsp;a&nbsp;key&nbsp;or&nbsp;value&nbsp;has&nbsp;been&nbsp;reclaimed&nbsp;by</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_45">45</td><td nowrap="nowrap">garbage&nbsp;collection.&nbsp;&nbsp;Most&nbsp;programs&nbsp;should&nbsp;find&nbsp;that&nbsp;using&nbsp;one&nbsp;of&nbsp;these&nbsp;weak</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_46">46</td><td nowrap="nowrap">dictionary&nbsp;types&nbsp;is&nbsp;all&nbsp;they&nbsp;need&nbsp;--&nbsp;it's&nbsp;not&nbsp;usually&nbsp;necessary&nbsp;to&nbsp;create&nbsp;your</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_47">47</td><td nowrap="nowrap">own&nbsp;weak&nbsp;references&nbsp;directly.&nbsp;&nbsp;The&nbsp;low-level&nbsp;machinery&nbsp;used&nbsp;by&nbsp;the&nbsp;weak</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_48">48</td><td nowrap="nowrap">dictionary&nbsp;implementations&nbsp;is&nbsp;exposed&nbsp;by&nbsp;the&nbsp;:mod:`weakref`&nbsp;module&nbsp;for&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_49">49</td><td nowrap="nowrap">benefit&nbsp;of&nbsp;advanced&nbsp;uses.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_50">50</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next" id="difflib_chg_to272__3"><a href="#difflib_chg_to272__3">n</a></td><td class="diff_header" id="to272_53">53+</td><td nowrap="nowrap"><span class="diff_add">..&nbsp;note::</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_54">54+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_55">55+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;Weak&nbsp;references&nbsp;to&nbsp;an&nbsp;object&nbsp;are&nbsp;cleared&nbsp;before&nbsp;the&nbsp;object's&nbsp;:meth:`__del__`</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_56">56+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;is&nbsp;called,&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;weak&nbsp;reference&nbsp;callback&nbsp;(if&nbsp;any)&nbsp;finds&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_57">57+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;object&nbsp;still&nbsp;alive.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_58">58+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_51">51</td><td nowrap="nowrap">Not&nbsp;all&nbsp;objects&nbsp;can&nbsp;be&nbsp;weakly&nbsp;referenced;&nbsp;those&nbsp;objects&nbsp;which&nbsp;can&nbsp;include&nbsp;class</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_52">52</td><td nowrap="nowrap">instances,&nbsp;functions&nbsp;written&nbsp;in&nbsp;Python&nbsp;(but&nbsp;not&nbsp;in&nbsp;C),&nbsp;methods&nbsp;(both&nbsp;bound&nbsp;and</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__4">n</a></td><td class="diff_header" id="from272_53">53-</td><td nowrap="nowrap">unbound),&nbsp;sets,&nbsp;frozensets,&nbsp;file&nbsp;objects,&nbsp;generators,&nbsp;type&nbsp;objects,<span class="diff_sub">&nbsp;DBcursor</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__4">n</a></td><td class="diff_header" id="to272_61">61+</td><td nowrap="nowrap">unbound),&nbsp;sets,&nbsp;frozensets,&nbsp;file&nbsp;objects,&nbsp;<span class="diff_add">:term:`</span>generator<span class="diff_add">`\</span>s,&nbsp;type&nbsp;objects,</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_54">54-</td><td nowrap="nowrap">objects&nbsp;from&nbsp;the&nbsp;:mod:`bsddb`&nbsp;module,&nbsp;sockets,&nbsp;arrays,&nbsp;deques,<span class="diff_sub">&nbsp;and&nbsp;regular</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_62">62+</td><td nowrap="nowrap"><span class="diff_add">:class:`DBcursor`&nbsp;</span>objects&nbsp;from&nbsp;the&nbsp;:mod:`bsddb`&nbsp;module,&nbsp;sockets,&nbsp;arrays,&nbsp;deques,</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_55">55-</td><td nowrap="nowrap">expression&nbsp;pattern&nbsp;objects.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_63">63+</td><td nowrap="nowrap"><span class="diff_add">and&nbsp;regular&nbsp;</span>expression&nbsp;pattern&nbsp;objects.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_56">56</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_57">57</td><td nowrap="nowrap">..&nbsp;versionchanged::&nbsp;2.4</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__4"></td><td class="diff_header" id="from272_58">58</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Added&nbsp;support&nbsp;for&nbsp;files,&nbsp;sockets,&nbsp;arrays,&nbsp;and&nbsp;patterns.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_59">59</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__5"></td><td class="diff_header" id="from272_60">60</td><td nowrap="nowrap">Several&nbsp;builtin&nbsp;types&nbsp;such&nbsp;as&nbsp;:class:`list`&nbsp;and&nbsp;:class:`dict`&nbsp;do&nbsp;not&nbsp;directly</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_61">61</td><td nowrap="nowrap">support&nbsp;weak&nbsp;references&nbsp;but&nbsp;can&nbsp;add&nbsp;support&nbsp;through&nbsp;subclassing::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_62">62</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_63">63</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;class&nbsp;Dict(dict):</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_64">64</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_65">65</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__5">n</a></td><td class="diff_header" id="from272_66">66-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;obj&nbsp;=&nbsp;Dict(red=1,&nbsp;green=2,&nbsp;blue=3)&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;object&nbsp;is&nbsp;weak&nbsp;referencable</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__5">n</a></td><td class="diff_header" id="to272_74">74+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;obj&nbsp;=&nbsp;Dict(red=1,&nbsp;green=2,&nbsp;blue=3)&nbsp;&nbsp;&nbsp;#&nbsp;this&nbsp;object&nbsp;is&nbsp;weak&nbsp;referenc<span class="diff_add">e</span>able</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_67">67</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__6">n</a></td><td class="diff_header" id="from272_68">68-</td><td nowrap="nowrap">Extension&nbsp;types&nbsp;can&nbsp;easily&nbsp;be&nbsp;made&nbsp;to&nbsp;support&nbsp;weak&nbsp;references;&nbsp;see<span class="diff_sub">&nbsp;"Weak</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__6">n</a></td><td class="diff_header" id="to272_76">76+</td><td nowrap="nowrap">Extension&nbsp;types&nbsp;can&nbsp;easily&nbsp;be&nbsp;made&nbsp;to&nbsp;support&nbsp;weak&nbsp;references;&nbsp;see</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_69">69-</td><td nowrap="nowrap"><span class="diff_sub">Reference&nbsp;Support&nbsp;(XXX&nbsp;reference:&nbsp;../ext/weakref-support.html)"&nbsp;in&nbsp;Extending&nbsp;and</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_77">77+</td><td nowrap="nowrap"><span class="diff_add">:ref:`weakref-support`.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_70">70-</td><td nowrap="nowrap"><span class="diff_sub">Embedding&nbsp;the&nbsp;Python&nbsp;Interpreter&nbsp;(XXX&nbsp;reference:&nbsp;../ext/ext.html).</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_71">71-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_72">72-</td><td nowrap="nowrap"><span class="diff_sub">..&nbsp;%&nbsp;The&nbsp;referenced&nbsp;section&nbsp;used&nbsp;to&nbsp;appear&nbsp;in&nbsp;this&nbsp;document&nbsp;with&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_73">73-</td><td nowrap="nowrap"><span class="diff_sub">..&nbsp;%&nbsp;\label&nbsp;weakref-extension.&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;good&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;generate&nbsp;a</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_74">74-</td><td nowrap="nowrap"><span class="diff_sub">..&nbsp;%&nbsp;redirect&nbsp;for&nbsp;the&nbsp;corresponding&nbsp;HTML&nbsp;page&nbsp;(weakref-extension.html)</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_75">75-</td><td nowrap="nowrap"><span class="diff_sub">..&nbsp;%&nbsp;for&nbsp;on-line&nbsp;versions&nbsp;of&nbsp;this&nbsp;document.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_76">76</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_77">77</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_78">78</td><td nowrap="nowrap">..&nbsp;class::&nbsp;ref(object[,&nbsp;callback])</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_79">79</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_80">80</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;weak&nbsp;reference&nbsp;to&nbsp;*object*.&nbsp;&nbsp;The&nbsp;original&nbsp;object&nbsp;can&nbsp;be&nbsp;retrieved&nbsp;by</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_81">81</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;calling&nbsp;the&nbsp;reference&nbsp;object&nbsp;if&nbsp;the&nbsp;referent&nbsp;is&nbsp;still&nbsp;alive;&nbsp;if&nbsp;the&nbsp;referent&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_82">82</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;no&nbsp;longer&nbsp;alive,&nbsp;calling&nbsp;the&nbsp;reference&nbsp;object&nbsp;will&nbsp;cause&nbsp;:const:`None`&nbsp;to&nbsp;be</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_83">83</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;returned.&nbsp;&nbsp;If&nbsp;*callback*&nbsp;is&nbsp;provided&nbsp;and&nbsp;not&nbsp;:const:`None`,&nbsp;and&nbsp;the&nbsp;returned</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__6"></td><td class="diff_header" id="from272_88">88</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;allowable&nbsp;for&nbsp;many&nbsp;weak&nbsp;references&nbsp;to&nbsp;be&nbsp;constructed&nbsp;for&nbsp;the&nbsp;same&nbsp;object.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_89">89</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Callbacks&nbsp;registered&nbsp;for&nbsp;each&nbsp;weak&nbsp;reference&nbsp;will&nbsp;be&nbsp;called&nbsp;from&nbsp;the&nbsp;most</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_90">90</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;recently&nbsp;registered&nbsp;callback&nbsp;to&nbsp;the&nbsp;oldest&nbsp;registered&nbsp;callback.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_91">91</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_92">92</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Exceptions&nbsp;raised&nbsp;by&nbsp;the&nbsp;callback&nbsp;will&nbsp;be&nbsp;noted&nbsp;on&nbsp;the&nbsp;standard&nbsp;error&nbsp;output,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_93">93</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;but&nbsp;cannot&nbsp;be&nbsp;propagated;&nbsp;they&nbsp;are&nbsp;handled&nbsp;in&nbsp;exactly&nbsp;the&nbsp;same&nbsp;way&nbsp;as&nbsp;exceptions</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_94">94</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;raised&nbsp;from&nbsp;an&nbsp;object's&nbsp;:meth:`__del__`&nbsp;method.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_95">95</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__7">n</a></td><td class="diff_header" id="from272_96">96-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Weak&nbsp;references&nbsp;are&nbsp;hashable&nbsp;if&nbsp;the&nbsp;*object*&nbsp;is&nbsp;hashable.&nbsp;&nbsp;They&nbsp;will&nbsp;maintain</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__7">n</a></td><td class="diff_header" id="to272_98">98+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Weak&nbsp;references&nbsp;are&nbsp;<span class="diff_add">:term:`</span>hashable<span class="diff_add">`</span>&nbsp;if&nbsp;the&nbsp;*object*&nbsp;is&nbsp;hashable.&nbsp;&nbsp;They&nbsp;will&nbsp;maintain</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_97">97</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;their&nbsp;hash&nbsp;value&nbsp;even&nbsp;after&nbsp;the&nbsp;*object*&nbsp;was&nbsp;deleted.&nbsp;&nbsp;If&nbsp;:func:`hash`&nbsp;is&nbsp;called</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_98">98</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;time&nbsp;only&nbsp;after&nbsp;the&nbsp;*object*&nbsp;was&nbsp;deleted,&nbsp;the&nbsp;call&nbsp;will&nbsp;raise</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_99">99</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:exc:`TypeError`.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_100">100</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_101">101</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Weak&nbsp;references&nbsp;support&nbsp;tests&nbsp;for&nbsp;equality,&nbsp;but&nbsp;not&nbsp;ordering.&nbsp;&nbsp;If&nbsp;the&nbsp;referents</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_102">102</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;are&nbsp;still&nbsp;alive,&nbsp;two&nbsp;references&nbsp;have&nbsp;the&nbsp;same&nbsp;equality&nbsp;relationship&nbsp;as&nbsp;their</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_103">103</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;referents&nbsp;(regardless&nbsp;of&nbsp;the&nbsp;*callback*).&nbsp;&nbsp;If&nbsp;either&nbsp;referent&nbsp;has&nbsp;been&nbsp;deleted,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_104">104</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;the&nbsp;references&nbsp;are&nbsp;equal&nbsp;only&nbsp;if&nbsp;the&nbsp;reference&nbsp;objects&nbsp;are&nbsp;the&nbsp;same&nbsp;object.</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__7"></td><td class="diff_header" id="from272_109">109</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_110">110</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_111">111</td><td nowrap="nowrap">..&nbsp;function::&nbsp;proxy(object[,&nbsp;callback])</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_112">112</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_113">113</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;proxy&nbsp;to&nbsp;*object*&nbsp;which&nbsp;uses&nbsp;a&nbsp;weak&nbsp;reference.&nbsp;&nbsp;This&nbsp;supports&nbsp;use&nbsp;of</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_114">114</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;the&nbsp;proxy&nbsp;in&nbsp;most&nbsp;contexts&nbsp;instead&nbsp;of&nbsp;requiring&nbsp;the&nbsp;explicit&nbsp;dereferencing&nbsp;used</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_115">115</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;with&nbsp;weak&nbsp;reference&nbsp;objects.&nbsp;&nbsp;The&nbsp;returned&nbsp;object&nbsp;will&nbsp;have&nbsp;a&nbsp;type&nbsp;of&nbsp;either</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_116">116</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;``ProxyType``&nbsp;or&nbsp;``CallableProxyType``,&nbsp;depending&nbsp;on&nbsp;whether&nbsp;*object*&nbsp;is</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__8">n</a></td><td class="diff_header" id="from272_117">117-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;callable.&nbsp;&nbsp;Proxy&nbsp;objects&nbsp;are&nbsp;not&nbsp;hashable&nbsp;regardless&nbsp;of&nbsp;the&nbsp;referent;&nbsp;this</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__8">n</a></td><td class="diff_header" id="to272_119">119+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;callable.&nbsp;&nbsp;Proxy&nbsp;objects&nbsp;are&nbsp;not&nbsp;<span class="diff_add">:term:`</span>hashable<span class="diff_add">`</span>&nbsp;regardless&nbsp;of&nbsp;the&nbsp;referent;&nbsp;this</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_118">118</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;avoids&nbsp;a&nbsp;number&nbsp;of&nbsp;problems&nbsp;related&nbsp;to&nbsp;their&nbsp;fundamentally&nbsp;mutable&nbsp;nature,&nbsp;and</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_119">119</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;prevent&nbsp;their&nbsp;use&nbsp;as&nbsp;dictionary&nbsp;keys.&nbsp;&nbsp;*callback*&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;parameter</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_120">120</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;same&nbsp;name&nbsp;to&nbsp;the&nbsp;:func:`ref`&nbsp;function.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_121">121</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_122">122</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_123">123</td><td nowrap="nowrap">..&nbsp;function::&nbsp;getweakrefcount(object)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_124">124</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_125">125</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;the&nbsp;number&nbsp;of&nbsp;weak&nbsp;references&nbsp;and&nbsp;proxies&nbsp;which&nbsp;refer&nbsp;to&nbsp;*object*.</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__8"></td><td class="diff_header" id="from272_135">135</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Mapping&nbsp;class&nbsp;that&nbsp;references&nbsp;keys&nbsp;weakly.&nbsp;&nbsp;Entries&nbsp;in&nbsp;the&nbsp;dictionary&nbsp;will&nbsp;be</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_136">136</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;discarded&nbsp;when&nbsp;there&nbsp;is&nbsp;no&nbsp;longer&nbsp;a&nbsp;strong&nbsp;reference&nbsp;to&nbsp;the&nbsp;key.&nbsp;&nbsp;This&nbsp;can&nbsp;be</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__9"></td><td class="diff_header" id="from272_137">137</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;used&nbsp;to&nbsp;associate&nbsp;additional&nbsp;data&nbsp;with&nbsp;an&nbsp;object&nbsp;owned&nbsp;by&nbsp;other&nbsp;parts&nbsp;of&nbsp;an</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_138">138</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;application&nbsp;without&nbsp;adding&nbsp;attributes&nbsp;to&nbsp;those&nbsp;objects.&nbsp;&nbsp;This&nbsp;can&nbsp;be&nbsp;especially</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_139">139</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;useful&nbsp;with&nbsp;objects&nbsp;that&nbsp;override&nbsp;attribute&nbsp;accesses.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_140">140</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_141">141</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;note::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_142">142</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__9">n</a></td><td class="diff_header" id="from272_143">143-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Caution:&nbsp;<span class="diff_sub">&nbsp;</span>Because&nbsp;a&nbsp;:class:`WeakKeyDictionary`&nbsp;is&nbsp;built&nbsp;on&nbsp;top&nbsp;of&nbsp;a&nbsp;Python</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__9">n</a></td><td class="diff_header" id="to272_145">145+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Caution:&nbsp;Because&nbsp;a&nbsp;:class:`WeakKeyDictionary`&nbsp;is&nbsp;built&nbsp;on&nbsp;top&nbsp;of&nbsp;a&nbsp;Python</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_144">144</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionary,&nbsp;it&nbsp;must&nbsp;not&nbsp;change&nbsp;size&nbsp;when&nbsp;iterating&nbsp;over&nbsp;it.&nbsp;&nbsp;This&nbsp;can&nbsp;be</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__10">n</a></td><td class="diff_header" id="from272_145">145-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;difficult&nbsp;to&nbsp;ensure&nbsp;for&nbsp;a&nbsp;:class:`WeakKeyDictionary`&nbsp;because&nbsp;actions<span class="diff_sub">&nbsp;performed</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__10">n</a></td><td class="diff_header" id="to272_147">147+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;difficult&nbsp;to&nbsp;ensure&nbsp;for&nbsp;a&nbsp;:class:`WeakKeyDictionary`&nbsp;because&nbsp;actions</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_146">146-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;the&nbsp;program&nbsp;during&nbsp;iteration&nbsp;may&nbsp;cause&nbsp;items&nbsp;in&nbsp;the<span class="diff_sub">&nbsp;dictionary&nbsp;to&nbsp;vanish&nbsp;"by</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_148">148+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;performed</span>&nbsp;by&nbsp;the&nbsp;program&nbsp;during&nbsp;iteration&nbsp;may&nbsp;cause&nbsp;items&nbsp;in&nbsp;the</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from272_147">147-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;magic"&nbsp;(as&nbsp;a&nbsp;side&nbsp;effect&nbsp;of&nbsp;garbage&nbsp;collection).</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to272_149">149+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_add">&nbsp;dictionary&nbsp;to&nbsp;vanish&nbsp;"by</span>&nbsp;magic"&nbsp;(as&nbsp;a&nbsp;side&nbsp;effect&nbsp;of&nbsp;garbage&nbsp;collection).</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_148">148</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_149">149</td><td nowrap="nowrap">:class:`WeakKeyDictionary`&nbsp;objects&nbsp;have&nbsp;the&nbsp;following&nbsp;additional&nbsp;methods.&nbsp;&nbsp;These</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_150">150</td><td nowrap="nowrap">expose&nbsp;the&nbsp;internal&nbsp;references&nbsp;directly.&nbsp;&nbsp;The&nbsp;references&nbsp;are&nbsp;not&nbsp;guaranteed&nbsp;to</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__10"></td><td class="diff_header" id="from272_151">151</td><td nowrap="nowrap">be&nbsp;"live"&nbsp;at&nbsp;the&nbsp;time&nbsp;they&nbsp;are&nbsp;used,&nbsp;so&nbsp;the&nbsp;result&nbsp;of&nbsp;calling&nbsp;the&nbsp;references</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_152">152</td><td nowrap="nowrap">needs&nbsp;to&nbsp;be&nbsp;checked&nbsp;before&nbsp;being&nbsp;used.&nbsp;&nbsp;This&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;avoid&nbsp;creating</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_153">153</td><td nowrap="nowrap">references&nbsp;that&nbsp;will&nbsp;cause&nbsp;the&nbsp;garbage&nbsp;collector&nbsp;to&nbsp;keep&nbsp;the&nbsp;keys&nbsp;around&nbsp;longer</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_154">154</td><td nowrap="nowrap">than&nbsp;needed.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_155">155</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_156">156</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_157">157</td><td nowrap="nowrap">..&nbsp;method::&nbsp;WeakKeyDictionary.iterkeyrefs()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_158">158</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__11">n</a></td><td class="diff_header" id="from272_159">159-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;an&nbsp;iterator&nbsp;that&nbsp;yields&nbsp;the&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;keys.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__11">n</a></td><td class="diff_header" id="to272_161">161+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;an&nbsp;<span class="diff_add">:term:`</span>iterator<span class="diff_add">`</span>&nbsp;that&nbsp;yields&nbsp;the&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;keys.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_160">160</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_161">161</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;versionadded::&nbsp;2.5</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_162">162</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_163">163</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_164">164</td><td nowrap="nowrap">..&nbsp;method::&nbsp;WeakKeyDictionary.keyrefs()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_165">165</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_166">166</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;keys.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_167">167</td><td nowrap="nowrap"></td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__11"></td><td class="diff_header" id="from272_183">183</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_184">184</td><td nowrap="nowrap">:class:`WeakValueDictionary`&nbsp;objects&nbsp;have&nbsp;the&nbsp;following&nbsp;additional&nbsp;methods.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_185">185</td><td nowrap="nowrap">These&nbsp;method&nbsp;have&nbsp;the&nbsp;same&nbsp;issues&nbsp;as&nbsp;the&nbsp;:meth:`iterkeyrefs`&nbsp;and&nbsp;:meth:`keyrefs`</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_186">186</td><td nowrap="nowrap">methods&nbsp;of&nbsp;:class:`WeakKeyDictionary`&nbsp;objects.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_187">187</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_188">188</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_189">189</td><td nowrap="nowrap">..&nbsp;method::&nbsp;WeakValueDictionary.itervaluerefs()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_190">190</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__12">n</a></td><td class="diff_header" id="from272_191">191-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;an&nbsp;iterator&nbsp;that&nbsp;yields&nbsp;the&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;values.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__12">n</a></td><td class="diff_header" id="to272_193">193+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;an&nbsp;<span class="diff_add">:term:`</span>iterator<span class="diff_add">`</span>&nbsp;that&nbsp;yields&nbsp;the&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;values.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_192">192</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_193">193</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;versionadded::&nbsp;2.5</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_194">194</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_195">195</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_196">196</td><td nowrap="nowrap">..&nbsp;method::&nbsp;WeakValueDictionary.valuerefs()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_197">197</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_198">198</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;values.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_199">199</td><td nowrap="nowrap"></td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__12"></td><td class="diff_header" id="from272_236">236</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_237">237</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_238">238</td><td nowrap="nowrap">..&nbsp;_weakref-objects:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_239">239</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_240">240</td><td nowrap="nowrap">Weak&nbsp;Reference&nbsp;Objects</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_241">241</td><td nowrap="nowrap">----------------------</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_242">242</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_243">243</td><td nowrap="nowrap">Weak&nbsp;reference&nbsp;objects&nbsp;have&nbsp;no&nbsp;attributes&nbsp;or&nbsp;methods,&nbsp;but&nbsp;do&nbsp;allow&nbsp;the&nbsp;referent</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__13">n</a></td><td class="diff_header" id="from272_244">244-</td><td nowrap="nowrap">to&nbsp;be&nbsp;obtained,&nbsp;if&nbsp;it&nbsp;still&nbsp;exists,&nbsp;by&nbsp;calling&nbsp;it:<span class="diff_sub">:</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__13">n</a></td><td class="diff_header" id="to272_246">246+</td><td nowrap="nowrap">to&nbsp;be&nbsp;obtained,&nbsp;if&nbsp;it&nbsp;still&nbsp;exists,&nbsp;by&nbsp;calling&nbsp;it:</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_245">245</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_246">246</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;import&nbsp;weakref</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_247">247</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;class&nbsp;Object:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_248">248</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pass</td></tr>            <tr><td class="diff_next" id="difflib_chg_to272__13"></td><td class="diff_header" id="from272_249">249</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;...</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_250">250</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;o&nbsp;=&nbsp;Object()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_251">251</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;r&nbsp;=&nbsp;weakref.ref(o)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_252">252</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;o2&nbsp;=&nbsp;r()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_253">253</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;o&nbsp;is&nbsp;o2</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_254">254</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;True</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_255">255</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_256">256</td><td nowrap="nowrap">If&nbsp;the&nbsp;referent&nbsp;no&nbsp;longer&nbsp;exists,&nbsp;calling&nbsp;the&nbsp;reference&nbsp;object&nbsp;returns</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__14">n</a></td><td class="diff_header" id="from272_257">257-</td><td nowrap="nowrap">:const:`None`:<span class="diff_sub">:</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__14">n</a></td><td class="diff_header" id="to272_259">259+</td><td nowrap="nowrap">:const:`None`:</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_258">258</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_259">259</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;del&nbsp;o,&nbsp;o2</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_260">260</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;print&nbsp;r()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_261">261</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;None</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_262">262</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_263">263</td><td nowrap="nowrap">Testing&nbsp;that&nbsp;a&nbsp;weak&nbsp;reference&nbsp;object&nbsp;is&nbsp;still&nbsp;live&nbsp;should&nbsp;be&nbsp;done&nbsp;using&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_264">264</td><td nowrap="nowrap">expression&nbsp;``ref()&nbsp;is&nbsp;not&nbsp;None``.&nbsp;&nbsp;Normally,&nbsp;application&nbsp;code&nbsp;that&nbsp;needs&nbsp;to&nbsp;use</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_265">265</td><td nowrap="nowrap">a&nbsp;reference&nbsp;object&nbsp;should&nbsp;follow&nbsp;this&nbsp;pattern::</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to272__14"></td><td class="diff_header" id="from272_313">313</td><td nowrap="nowrap">Example</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_314">314</td><td nowrap="nowrap">-------</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_315">315</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_316">316</td><td nowrap="nowrap">This&nbsp;simple&nbsp;example&nbsp;shows&nbsp;how&nbsp;an&nbsp;application&nbsp;can&nbsp;use&nbsp;objects&nbsp;IDs&nbsp;to&nbsp;retrieve</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_317">317</td><td nowrap="nowrap">objects&nbsp;that&nbsp;it&nbsp;has&nbsp;seen&nbsp;before.&nbsp;&nbsp;The&nbsp;IDs&nbsp;of&nbsp;the&nbsp;objects&nbsp;can&nbsp;then&nbsp;be&nbsp;used&nbsp;in</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_318">318</td><td nowrap="nowrap">other&nbsp;data&nbsp;structures&nbsp;without&nbsp;forcing&nbsp;the&nbsp;objects&nbsp;to&nbsp;remain&nbsp;alive,&nbsp;but&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_319">319</td><td nowrap="nowrap">objects&nbsp;can&nbsp;still&nbsp;be&nbsp;retrieved&nbsp;by&nbsp;ID&nbsp;if&nbsp;they&nbsp;do.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_320">320</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to272__top">t</a></td><td class="diff_header" id="from272_321">321-</td><td nowrap="nowrap">..<span class="diff_sub">&nbsp;%</span>&nbsp;Example&nbsp;contributed&nbsp;by&nbsp;Tim&nbsp;Peters.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to272__top">t</a></td><td class="diff_header" id="to272_323">323+</td><td nowrap="nowrap">..&nbsp;Example&nbsp;contributed&nbsp;by&nbsp;Tim&nbsp;Peters.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from272_322">322</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_323">323</td><td nowrap="nowrap">::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_324">324</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_325">325</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;import&nbsp;weakref</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_326">326</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_327">327</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;_id2obj_dict&nbsp;=&nbsp;weakref.WeakValueDictionary()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_328">328</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from272_329">329</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;def&nbsp;remember(obj):</td></tr>        </tbody>
        </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>