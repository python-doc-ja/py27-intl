<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>library/optparse.rst</title>
<style type="text/css">
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<div class="highlight"><pre><span class="gu">@@ -1,11 +1,16 @@</span>
<span class="gd">-:mod:`optparse` --- More powerful command line option parser</span>
<span class="gd">-============================================================</span>
<span class="gi">+:mod:`optparse` --- Parser for command line options</span>
<span class="gi">+===================================================</span>
 
 .. module:: optparse
<span class="gd">-   :synopsis: More convenient, flexible, and powerful command-line parsing library.</span>
<span class="gi">+   :synopsis: Command-line option parsing library.</span>
<span class="gi">+   :deprecated:</span>
<span class="gi">+</span>
<span class="gi">+.. deprecated:: 2.7</span>
<span class="gi">+   The :mod:`optparse` module is deprecated and will not be developed further;</span>
<span class="gi">+   development will continue with the :mod:`argparse` module.</span>
<span class="gi">+</span>
 .. moduleauthor:: Greg Ward &lt;gward@python.net&gt;
 
<span class="gd">-</span>
 .. versionadded:: 2.3
 
 .. sectionauthor:: Greg Ward &lt;gward@python.net&gt;
<span class="gu">@@ -59,9 +64,9 @@</span>
 
 .. code-block:: text
 
<span class="gd">-   usage: &lt;yourscript&gt; [options]</span>
<span class="gd">-</span>
<span class="gd">-   options:</span>
<span class="gi">+   Usage: &lt;yourscript&gt; [options]</span>
<span class="gi">+</span>
<span class="gi">+   Options:</span>
      -h, --help            show this help message and exit
      -f FILE, --file=FILE  write report to FILE
      -q, --quiet           don&#39;t print status messages to stdout
<span class="gu">@@ -102,26 +107,26 @@</span>
    an argument used to supply extra information to guide or customize the
    execution of a program.  There are many different syntaxes for options; the
    traditional Unix syntax is a hyphen (&quot;-&quot;) followed by a single letter,
<span class="gd">-   e.g. ``&quot;-x&quot;`` or ``&quot;-F&quot;``.  Also, traditional Unix syntax allows multiple</span>
<span class="gd">-   options to be merged into a single argument, e.g.  ``&quot;-x -F&quot;`` is equivalent</span>
<span class="gd">-   to ``&quot;-xF&quot;``.  The GNU project introduced ``&quot;--&quot;`` followed by a series of</span>
<span class="gd">-   hyphen-separated words, e.g.  ``&quot;--file&quot;`` or ``&quot;--dry-run&quot;``.  These are the</span>
<span class="gi">+   e.g. ``-x`` or ``-F``.  Also, traditional Unix syntax allows multiple</span>
<span class="gi">+   options to be merged into a single argument, e.g. ``-x -F`` is equivalent</span>
<span class="gi">+   to ``-xF``.  The GNU project introduced ``--`` followed by a series of</span>
<span class="gi">+   hyphen-separated words, e.g. ``--file`` or ``--dry-run``.  These are the</span>
    only two option syntaxes provided by :mod:`optparse`.
 
    Some other option syntaxes that the world has seen include:
 
<span class="gd">-   * a hyphen followed by a few letters, e.g. ``&quot;-pf&quot;`` (this is *not* the same</span>
<span class="gi">+   * a hyphen followed by a few letters, e.g. ``-pf`` (this is *not* the same</span>
      as multiple options merged into a single argument)
 
<span class="gd">-   * a hyphen followed by a whole word, e.g. ``&quot;-file&quot;`` (this is technically</span>
<span class="gi">+   * a hyphen followed by a whole word, e.g. ``-file`` (this is technically</span>
      equivalent to the previous syntax, but they aren&#39;t usually seen in the same
      program)
 
    * a plus sign followed by a single letter, or a few letters, or a word, e.g.
<span class="gd">-     ``&quot;+f&quot;``, ``&quot;+rgb&quot;``</span>
<span class="gd">-</span>
<span class="gd">-   * a slash followed by a letter, or a few letters, or a word, e.g. ``&quot;/f&quot;``,</span>
<span class="gd">-     ``&quot;/file&quot;``</span>
<span class="gi">+     ``+f``, ``+rgb``</span>
<span class="gi">+</span>
<span class="gi">+   * a slash followed by a letter, or a few letters, or a word, e.g. ``/f``,</span>
<span class="gi">+     ``/file``</span>
 
    These option syntaxes are not supported by :mod:`optparse`, and they never
    will be.  This is deliberate: the first three are non-standard on any
<span class="gu">@@ -149,9 +154,9 @@</span>
    Typically, a given option either takes an argument or it doesn&#39;t. Lots of
    people want an &quot;optional option arguments&quot; feature, meaning that some options
    will take an argument if they see it, and won&#39;t if they don&#39;t.  This is
<span class="gd">-   somewhat controversial, because it makes parsing ambiguous: if ``&quot;-a&quot;`` takes</span>
<span class="gd">-   an optional argument and ``&quot;-b&quot;`` is another option entirely, how do we</span>
<span class="gd">-   interpret ``&quot;-ab&quot;``?  Because of this ambiguity, :mod:`optparse` does not</span>
<span class="gi">+   somewhat controversial, because it makes parsing ambiguous: if ``-a`` takes</span>
<span class="gi">+   an optional argument and ``-b`` is another option entirely, how do we</span>
<span class="gi">+   interpret ``-ab``?  Because of this ambiguity, :mod:`optparse` does not</span>
    support this feature.
 
 positional argument
<span class="gu">@@ -169,9 +174,9 @@</span>
 
    prog -v --report /tmp/report.txt foo bar
 
<span class="gd">-``&quot;-v&quot;`` and ``&quot;--report&quot;`` are both options.  Assuming that :option:`--report`</span>
<span class="gd">-takes one argument, ``&quot;/tmp/report.txt&quot;`` is an option argument.  ``&quot;foo&quot;`` and</span>
<span class="gd">-``&quot;bar&quot;`` are positional arguments.</span>
<span class="gi">+``-v`` and ``--report`` are both options.  Assuming that ``--report``</span>
<span class="gi">+takes one argument, ``/tmp/report.txt`` is an option argument.  ``foo`` and</span>
<span class="gi">+``bar`` are positional arguments.</span>
 
 
 .. _optparse-what-options-for:
<span class="gu">@@ -256,7 +261,7 @@</span>
    parser.add_option(opt_str, ...,
                      attr=value, ...)
 
<span class="gd">-Each option has one or more option strings, such as ``&quot;-f&quot;`` or ``&quot;--file&quot;``,</span>
<span class="gi">+Each option has one or more option strings, such as ``-f`` or ``--file``,</span>
 and several option attributes that tell :mod:`optparse` what to expect and what
 to do when it encounters that option on the command line.
 
<span class="gu">@@ -285,7 +290,7 @@</span>
 :meth:`parse_args` returns two values:
 
 * ``options``, an object containing values for all of your options---e.g. if
<span class="gd">-  ``&quot;--file&quot;`` takes a single string argument, then ``options.file`` will be the</span>
<span class="gi">+  ``--file`` takes a single string argument, then ``options.file`` will be the</span>
   filename supplied by the user, or ``None`` if the user did not supply that
   option
 
<span class="gu">@@ -331,8 +336,8 @@</span>
    args = [&quot;-f&quot;, &quot;foo.txt&quot;]
    (options, args) = parser.parse_args(args)
 
<span class="gd">-When :mod:`optparse` sees the option string ``&quot;-f&quot;``, it consumes the next</span>
<span class="gd">-argument, ``&quot;foo.txt&quot;``, and stores it in ``options.filename``.  So, after this</span>
<span class="gi">+When :mod:`optparse` sees the option string ``-f``, it consumes the next</span>
<span class="gi">+argument, ``foo.txt``, and stores it in ``options.filename``.  So, after this</span>
 call to :meth:`parse_args`, ``options.filename`` is ``&quot;foo.txt&quot;``.
 
 Some other option types supported by :mod:`optparse` are ``int`` and ``float``.
<span class="gu">@@ -344,13 +349,13 @@</span>
 Also, there&#39;s no explicit action, since the default is ``store``.
 
 Let&#39;s parse another fake command-line.  This time, we&#39;ll jam the option argument
<span class="gd">-right up against the option: since ``&quot;-n42&quot;`` (one argument) is equivalent to</span>
<span class="gd">-``&quot;-n 42&quot;`` (two arguments), the code ::</span>
<span class="gi">+right up against the option: since ``-n42`` (one argument) is equivalent to</span>
<span class="gi">+``-n 42`` (two arguments), the code ::</span>
 
    (options, args) = parser.parse_args([&quot;-n42&quot;])
    print options.num
 
<span class="gd">-will print ``&quot;42&quot;``.</span>
<span class="gi">+will print ``42``.</span>
 
 If you don&#39;t specify a type, :mod:`optparse` assumes ``string``.  Combined with
 the fact that the default action is ``store``, that means our first example can
<span class="gu">@@ -360,9 +365,9 @@</span>
 
 If you don&#39;t supply a destination, :mod:`optparse` figures out a sensible
 default from the option strings: if the first long option string is
<span class="gd">-``&quot;--foo-bar&quot;``, then the default destination is ``foo_bar``.  If there are no</span>
<span class="gi">+``--foo-bar``, then the default destination is ``foo_bar``.  If there are no</span>
 long option strings, :mod:`optparse` looks at the first short option string: the
<span class="gd">-default destination for ``&quot;-f&quot;`` is ``f``.</span>
<span class="gi">+default destination for ``-f`` is ``f``.</span>
 
 :mod:`optparse` also includes built-in ``long`` and ``complex`` types.  Adding
 types is covered in section :ref:`optparse-extending-optparse`.
<span class="gu">@@ -376,7 +381,7 @@</span>
 Flag options---set a variable to true or false when a particular option is seen
 ---are quite common.  :mod:`optparse` supports them with two separate actions,
 ``store_true`` and ``store_false``.  For example, you might have a ``verbose``
<span class="gd">-flag that is turned on with ``&quot;-v&quot;`` and off with ``&quot;-q&quot;``::</span>
<span class="gi">+flag that is turned on with ``-v`` and off with ``-q``::</span>
 
    parser.add_option(&quot;-v&quot;, action=&quot;store_true&quot;, dest=&quot;verbose&quot;)
    parser.add_option(&quot;-q&quot;, action=&quot;store_false&quot;, dest=&quot;verbose&quot;)
<span class="gu">@@ -385,8 +390,8 @@</span>
 OK.  (It just means you have to be a bit careful when setting default values---
 see below.)
 
<span class="gd">-When :mod:`optparse` encounters ``&quot;-v&quot;`` on the command line, it sets</span>
<span class="gd">-``options.verbose`` to ``True``; when it encounters ``&quot;-q&quot;``,</span>
<span class="gi">+When :mod:`optparse` encounters ``-v`` on the command line, it sets</span>
<span class="gi">+``options.verbose`` to ``True``; when it encounters ``-q``,</span>
 ``options.verbose`` is set to ``False``.
 
 
<span class="gu">@@ -426,7 +431,7 @@</span>
 command line is parsed.
 
 First, consider the verbose/quiet example.  If we want :mod:`optparse` to set
<span class="gd">-``verbose`` to ``True`` unless ``&quot;-q&quot;`` is seen, then we can do this::</span>
<span class="gi">+``verbose`` to ``True`` unless ``-q`` is seen, then we can do this::</span>
 
    parser.add_option(&quot;-v&quot;, action=&quot;store_true&quot;, dest=&quot;verbose&quot;, default=True)
    parser.add_option(&quot;-q&quot;, action=&quot;store_false&quot;, dest=&quot;verbose&quot;)
<span class="gu">@@ -484,15 +489,15 @@</span>
                      help=&quot;interaction mode: novice, intermediate, &quot;
                           &quot;or expert [default: %default]&quot;)
 
<span class="gd">-If :mod:`optparse` encounters either ``&quot;-h&quot;`` or ``&quot;--help&quot;`` on the</span>
<span class="gi">+If :mod:`optparse` encounters either ``-h`` or ``--help`` on the</span>
 command-line, or if you just call :meth:`parser.print_help`, it prints the
 following to standard output:
 
 .. code-block:: text
 
<span class="gd">-   usage: &lt;yourscript&gt; [options] arg1 arg2</span>
<span class="gd">-</span>
<span class="gd">-   options:</span>
<span class="gi">+   Usage: &lt;yourscript&gt; [options] arg1 arg2</span>
<span class="gi">+</span>
<span class="gi">+   Options:</span>
      -h, --help            show this help message and exit
      -v, --verbose         make lots of noise [default]
      -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)
<span class="gu">@@ -511,12 +516,12 @@</span>
 
      usage = &quot;usage: %prog [options] arg1 arg2&quot;
 
<span class="gd">-  :mod:`optparse` expands ``&quot;%prog&quot;`` in the usage string to the name of the</span>
<span class="gi">+  :mod:`optparse` expands ``%prog`` in the usage string to the name of the</span>
   current program, i.e. ``os.path.basename(sys.argv[0])``.  The expanded string
   is then printed before the detailed option help.
 
   If you don&#39;t supply a usage string, :mod:`optparse` uses a bland but sensible
<span class="gd">-  default: ``&quot;usage: %prog [options]&quot;``, which is fine if your script doesn&#39;t</span>
<span class="gi">+  default: ``&quot;Usage: %prog [options]&quot;``, which is fine if your script doesn&#39;t</span>
   take any positional arguments.
 
 * every option defines a help string, and doesn&#39;t worry about line-wrapping---
<span class="gu">@@ -529,17 +534,17 @@</span>
      -m MODE, --mode=MODE
 
   Here, &quot;MODE&quot; is called the meta-variable: it stands for the argument that the
<span class="gd">-  user is expected to supply to :option:`-m`/:option:`--mode`.  By default,</span>
<span class="gi">+  user is expected to supply to ``-m``/``--mode``.  By default,</span>
   :mod:`optparse` converts the destination variable name to uppercase and uses
   that for the meta-variable.  Sometimes, that&#39;s not what you want---for
<span class="gd">-  example, the :option:`--filename` option explicitly sets ``metavar=&quot;FILE&quot;``,</span>
<span class="gi">+  example, the ``--filename`` option explicitly sets ``metavar=&quot;FILE&quot;``,</span>
   resulting in this automatically-generated option description::
 
      -f FILE, --filename=FILE
 
   This is important for more than just saving space, though: the manually
<span class="gd">-  written help text uses the meta-variable &quot;FILE&quot; to clue the user in that</span>
<span class="gd">-  there&#39;s a connection between the semi-formal syntax &quot;-f FILE&quot; and the informal</span>
<span class="gi">+  written help text uses the meta-variable ``FILE`` to clue the user in that</span>
<span class="gi">+  there&#39;s a connection between the semi-formal syntax ``-f FILE`` and the informal</span>
   semantic description &quot;write output to FILE&quot;. This is a simple but effective
   way to make your help text a lot clearer and more useful for end users.
 
<span class="gu">@@ -549,12 +554,33 @@</span>
    default value.  If an option has no default value (or the default value is
    ``None``), ``%default`` expands to ``none``.
 
<span class="gi">+Grouping Options</span>
<span class="gi">+++++++++++++++++</span>
<span class="gi">+</span>
 When dealing with many options, it is convenient to group these options for
 better help output.  An :class:`OptionParser` can contain several option groups,
 each of which can contain several options.
 
<span class="gd">-Continuing with the parser defined above, adding an :class:`OptionGroup` to a</span>
<span class="gd">-parser is easy::</span>
<span class="gi">+An option group is obtained using the class :class:`OptionGroup`:</span>
<span class="gi">+</span>
<span class="gi">+.. class:: OptionGroup(parser, title, description=None)</span>
<span class="gi">+</span>
<span class="gi">+   where</span>
<span class="gi">+</span>
<span class="gi">+   * parser is the :class:`OptionParser` instance the group will be insterted in</span>
<span class="gi">+     to</span>
<span class="gi">+   * title is the group title</span>
<span class="gi">+   * description, optional, is a long description of the group</span>
<span class="gi">+</span>
<span class="gi">+:class:`OptionGroup` inherits from :class:`OptionContainer` (like</span>
<span class="gi">+:class:`OptionParser`) and so the :meth:`add_option` method can be used to add</span>
<span class="gi">+an option to the group.</span>
<span class="gi">+</span>
<span class="gi">+Once all the options are declared, using the :class:`OptionParser` method</span>
<span class="gi">+:meth:`add_option_group` the group is added to the previously defined parser.</span>
<span class="gi">+</span>
<span class="gi">+Continuing with the parser defined in the previous section, adding an</span>
<span class="gi">+:class:`OptionGroup` to a parser is easy::</span>
 
     group = OptionGroup(parser, &quot;Dangerous Options&quot;,
                         &quot;Caution: use these options at your own risk.  &quot;
<span class="gu">@@ -566,20 +592,73 @@</span>
 
 .. code-block:: text
 
<span class="gd">-    usage:  [options] arg1 arg2</span>
<span class="gd">-</span>
<span class="gd">-    options:</span>
<span class="gd">-      -h, --help           show this help message and exit</span>
<span class="gd">-      -v, --verbose        make lots of noise [default]</span>
<span class="gd">-      -q, --quiet          be vewwy quiet (I&#39;m hunting wabbits)</span>
<span class="gd">-      -fFILE, --file=FILE  write output to FILE</span>
<span class="gd">-      -mMODE, --mode=MODE  interaction mode: one of &#39;novice&#39;, &#39;intermediate&#39;</span>
<span class="gd">-                           [default], &#39;expert&#39;</span>
<span class="gd">-</span>
<span class="gd">-      Dangerous Options:</span>
<span class="gd">-      Caution: use of these options is at your own risk.  It is believed that</span>
<span class="gd">-      some of them bite.</span>
<span class="gd">-      -g                 Group option.</span>
<span class="gi">+   Usage: &lt;yourscript&gt; [options] arg1 arg2</span>
<span class="gi">+</span>
<span class="gi">+   Options:</span>
<span class="gi">+     -h, --help            show this help message and exit</span>
<span class="gi">+     -v, --verbose         make lots of noise [default]</span>
<span class="gi">+     -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)</span>
<span class="gi">+     -f FILE, --filename=FILE</span>
<span class="gi">+                           write output to FILE</span>
<span class="gi">+     -m MODE, --mode=MODE  interaction mode: novice, intermediate, or</span>
<span class="gi">+                           expert [default: intermediate]</span>
<span class="gi">+</span>
<span class="gi">+     Dangerous Options:</span>
<span class="gi">+       Caution: use these options at your own risk.  It is believed that some</span>
<span class="gi">+       of them bite.</span>
<span class="gi">+</span>
<span class="gi">+       -g                  Group option.</span>
<span class="gi">+</span>
<span class="gi">+A bit more complete example might invole using more than one group: still</span>
<span class="gi">+extendind the previous example::</span>
<span class="gi">+</span>
<span class="gi">+    group = OptionGroup(parser, &quot;Dangerous Options&quot;,</span>
<span class="gi">+                        &quot;Caution: use these options at your own risk.  &quot;</span>
<span class="gi">+                        &quot;It is believed that some of them bite.&quot;)</span>
<span class="gi">+    group.add_option(&quot;-g&quot;, action=&quot;store_true&quot;, help=&quot;Group option.&quot;)</span>
<span class="gi">+    parser.add_option_group(group)</span>
<span class="gi">+</span>
<span class="gi">+    group = OptionGroup(parser, &quot;Debug Options&quot;)</span>
<span class="gi">+    group.add_option(&quot;-d&quot;, &quot;--debug&quot;, action=&quot;store_true&quot;,</span>
<span class="gi">+                     help=&quot;Print debug information&quot;)</span>
<span class="gi">+    group.add_option(&quot;-s&quot;, &quot;--sql&quot;, action=&quot;store_true&quot;,</span>
<span class="gi">+                     help=&quot;Print all SQL statements executed&quot;)</span>
<span class="gi">+    group.add_option(&quot;-e&quot;, action=&quot;store_true&quot;, help=&quot;Print every action done&quot;)</span>
<span class="gi">+    parser.add_option_group(group)</span>
<span class="gi">+</span>
<span class="gi">+that results in the following output:</span>
<span class="gi">+</span>
<span class="gi">+.. code-block:: text</span>
<span class="gi">+</span>
<span class="gi">+   Usage: &lt;yourscript&gt; [options] arg1 arg2</span>
<span class="gi">+</span>
<span class="gi">+   Options:</span>
<span class="gi">+     -h, --help            show this help message and exit</span>
<span class="gi">+     -v, --verbose         make lots of noise [default]</span>
<span class="gi">+     -q, --quiet           be vewwy quiet (I&#39;m hunting wabbits)</span>
<span class="gi">+     -f FILE, --filename=FILE</span>
<span class="gi">+                           write output to FILE</span>
<span class="gi">+     -m MODE, --mode=MODE  interaction mode: novice, intermediate, or expert</span>
<span class="gi">+                           [default: intermediate]</span>
<span class="gi">+</span>
<span class="gi">+     Dangerous Options:</span>
<span class="gi">+       Caution: use these options at your own risk.  It is believed that some</span>
<span class="gi">+       of them bite.</span>
<span class="gi">+</span>
<span class="gi">+       -g                  Group option.</span>
<span class="gi">+</span>
<span class="gi">+     Debug Options:</span>
<span class="gi">+       -d, --debug         Print debug information</span>
<span class="gi">+       -s, --sql           Print all SQL statements executed</span>
<span class="gi">+       -e                  Print every action done</span>
<span class="gi">+</span>
<span class="gi">+Another interesting method, in particular when working programmatically with</span>
<span class="gi">+option groups is:</span>
<span class="gi">+</span>
<span class="gi">+.. method:: OptionParser.get_option_group(opt_str)</span>
<span class="gi">+</span>
<span class="gi">+   Return, if defined, the :class:`OptionGroup` that has the title or the long</span>
<span class="gi">+   description equals to *opt_str*</span>
 
 .. _optparse-printing-version-string:
 
<span class="gu">@@ -592,11 +671,11 @@</span>
 
    parser = OptionParser(usage=&quot;%prog [-f] [-q]&quot;, version=&quot;%prog 1.0&quot;)
 
<span class="gd">-``&quot;%prog&quot;`` is expanded just like it is in ``usage``.  Apart from that,</span>
<span class="gi">+``%prog`` is expanded just like it is in ``usage``.  Apart from that,</span>
 ``version`` can contain anything you like.  When you supply it, :mod:`optparse`
<span class="gd">-automatically adds a ``&quot;--version&quot;`` option to your parser. If it encounters</span>
<span class="gi">+automatically adds a ``--version`` option to your parser. If it encounters</span>
 this option on the command line, it expands your ``version`` string (by
<span class="gd">-replacing ``&quot;%prog&quot;``), prints it to stdout, and exits.</span>
<span class="gi">+replacing ``%prog``), prints it to stdout, and exits.</span>
 
 For example, if your script is called ``/usr/bin/foo``::
 
<span class="gu">@@ -609,7 +688,7 @@</span>
 
    Print the version message for the current program (``self.version``) to
    *file* (default stdout).  As with :meth:`print_usage`, any occurrence
<span class="gd">-   of ``&quot;%prog&quot;`` in ``self.version`` is replaced with the name of the current</span>
<span class="gi">+   of ``%prog`` in ``self.version`` is replaced with the name of the current</span>
    program.  Does nothing if ``self.version`` is empty or undefined.
 
 .. method:: OptionParser.get_version()
<span class="gu">@@ -632,9 +711,9 @@</span>
 
 Handling user errors is much more important, since they are guaranteed to happen
 no matter how stable your code is.  :mod:`optparse` can automatically detect
<span class="gd">-some user errors, such as bad option arguments (passing ``&quot;-n 4x&quot;`` where</span>
<span class="gd">-:option:`-n` takes an integer argument), missing arguments (``&quot;-n&quot;`` at the end</span>
<span class="gd">-of the command line, where :option:`-n` takes an argument of any type).  Also,</span>
<span class="gi">+some user errors, such as bad option arguments (passing ``-n 4x`` where</span>
<span class="gi">+``-n`` takes an integer argument), missing arguments (``-n`` at the end</span>
<span class="gi">+of the command line, where ``-n`` takes an argument of any type).  Also,</span>
 you can call :func:`OptionParser.error` to signal an application-defined error
 condition::
 
<span class="gu">@@ -647,18 +726,18 @@</span>
 program&#39;s usage message and an error message to standard error and exits with
 error status 2.
 
<span class="gd">-Consider the first example above, where the user passes ``&quot;4x&quot;`` to an option</span>
<span class="gi">+Consider the first example above, where the user passes ``4x`` to an option</span>
 that takes an integer::
 
    $ /usr/bin/foo -n 4x
<span class="gd">-   usage: foo [options]</span>
<span class="gi">+   Usage: foo [options]</span>
 
    foo: error: option -n: invalid integer value: &#39;4x&#39;
 
 Or, where the user fails to pass a value at all::
 
    $ /usr/bin/foo -n
<span class="gd">-   usage: foo [options]</span>
<span class="gi">+   Usage: foo [options]</span>
 
    foo: error: -n option requires an argument
 
<span class="gu">@@ -740,8 +819,8 @@</span>
    ``version`` (default: ``None``)
       A version string to print when the user supplies a version option. If you
       supply a true value for ``version``, :mod:`optparse` automatically adds a
<span class="gd">-      version option with the single option string ``&quot;--version&quot;``.  The</span>
<span class="gd">-      substring ``&quot;%prog&quot;`` is expanded the same as for ``usage``.</span>
<span class="gi">+      version option with the single option string ``--version``.  The</span>
<span class="gi">+      substring ``%prog`` is expanded the same as for ``usage``.</span>
 
    ``conflict_handler`` (default: ``&quot;error&quot;``)
       Specifies what to do when options with conflicting option strings are
<span class="gu">@@ -760,11 +839,11 @@</span>
       IndentedHelpFormatter and TitledHelpFormatter.
 
    ``add_help_option`` (default: ``True``)
<span class="gd">-      If true, :mod:`optparse` will add a help option (with option strings ``&quot;-h&quot;``</span>
<span class="gd">-      and ``&quot;--help&quot;``) to the parser.</span>
<span class="gi">+      If true, :mod:`optparse` will add a help option (with option strings ``-h``</span>
<span class="gi">+      and ``--help``) to the parser.</span>
 
    ``prog``
<span class="gd">-      The string to use when expanding ``&quot;%prog&quot;`` in ``usage`` and ``version``</span>
<span class="gi">+      The string to use when expanding ``%prog`` in ``usage`` and ``version``</span>
       instead of ``os.path.basename(sys.argv[0])``.
 
    ``epilog`` (default: ``None``)
<span class="gu">@@ -808,7 +887,7 @@</span>
 ^^^^^^^^^^^^^^^^
 
 Each Option instance represents a set of synonymous command-line option strings,
<span class="gd">-e.g. :option:`-f` and :option:`--file`.  You can specify any number of short or</span>
<span class="gi">+e.g. ``-f`` and ``--file``.  You can specify any number of short or</span>
 long option strings, but you must specify at least one overall option string.
 
 The canonical way to create an :class:`Option` instance is with the
<span class="gu">@@ -971,7 +1050,7 @@</span>
 .. attribute:: Option.help
 
    Help text to print for this option when listing all available options after
<span class="gd">-   the user supplies a :attr:`~Option.help` option (such as ``&quot;--help&quot;``).  If</span>
<span class="gi">+   the user supplies a :attr:`~Option.help` option (such as ``--help``).  If</span>
    no help text is supplied, the option will be listed without help text.  To
    hide this option, use the special value :data:`optparse.SUPPRESS_HELP`.
 
<span class="gu">@@ -1009,9 +1088,9 @@</span>
   If :attr:`~Option.type` is not supplied, it defaults to ``&quot;string&quot;``.
 
   If :attr:`~Option.dest` is not supplied, :mod:`optparse` derives a destination
<span class="gd">-  from the first long option string (e.g., ``&quot;--foo-bar&quot;`` implies</span>
<span class="gi">+  from the first long option string (e.g., ``--foo-bar`` implies</span>
   ``foo_bar``). If there are no long option strings, :mod:`optparse` derives a
<span class="gd">-  destination from the first short option string (e.g., ``&quot;-f&quot;`` implies ``f``).</span>
<span class="gi">+  destination from the first short option string (e.g., ``-f`` implies ``f``).</span>
 
   Example::
 
<span class="gu">@@ -1042,7 +1121,7 @@</span>
      parser.add_option(&quot;--noisy&quot;,
                        action=&quot;store_const&quot;, const=2, dest=&quot;verbose&quot;)
 
<span class="gd">-  If ``&quot;--noisy&quot;`` is seen, :mod:`optparse` will set  ::</span>
<span class="gi">+  If ``--noisy`` is seen, :mod:`optparse` will set  ::</span>
 
      options.verbose = 2
 
<span class="gu">@@ -1077,13 +1156,13 @@</span>
 
      parser.add_option(&quot;-t&quot;, &quot;--tracks&quot;, action=&quot;append&quot;, type=&quot;int&quot;)
 
<span class="gd">-  If ``&quot;-t3&quot;`` is seen on the command-line, :mod:`optparse` does the equivalent</span>
<span class="gi">+  If ``-t3`` is seen on the command-line, :mod:`optparse` does the equivalent</span>
   of::
 
      options.tracks = []
      options.tracks.append(int(&quot;3&quot;))
 
<span class="gd">-  If, a little later on, ``&quot;--tracks=4&quot;`` is seen, it does::</span>
<span class="gi">+  If, a little later on, ``--tracks=4`` is seen, it does::</span>
 
      options.tracks.append(int(&quot;4&quot;))
 
<span class="gu">@@ -1105,13 +1184,13 @@</span>
 
      parser.add_option(&quot;-v&quot;, action=&quot;count&quot;, dest=&quot;verbosity&quot;)
 
<span class="gd">-  The first time ``&quot;-v&quot;`` is seen on the command line, :mod:`optparse` does the</span>
<span class="gi">+  The first time ``-v`` is seen on the command line, :mod:`optparse` does the</span>
   equivalent of::
 
      options.verbosity = 0
      options.verbosity += 1
 
<span class="gd">-  Every subsequent occurrence of ``&quot;-v&quot;`` results in  ::</span>
<span class="gi">+  Every subsequent occurrence of ``-v`` results in  ::</span>
 
      options.verbosity += 1
 
<span class="gu">@@ -1154,15 +1233,15 @@</span>
                        help=&quot;Input file to read data from&quot;)
      parser.add_option(&quot;--secret&quot;, help=SUPPRESS_HELP)
 
<span class="gd">-  If :mod:`optparse` sees either ``&quot;-h&quot;`` or ``&quot;--help&quot;`` on the command line,</span>
<span class="gi">+  If :mod:`optparse` sees either ``-h`` or ``--help`` on the command line,</span>
   it will print something like the following help message to stdout (assuming
   ``sys.argv[0]`` is ``&quot;foo.py&quot;``):
 
   .. code-block:: text
 
<span class="gd">-     usage: foo.py [options]</span>
<span class="gd">-</span>
<span class="gd">-     options:</span>
<span class="gi">+     Usage: foo.py [options]</span>
<span class="gi">+</span>
<span class="gi">+     Options:</span>
        -h, --help        Show this help message and exit
        -v                Be moderately verbose
        --file=FILENAME   Input file to read data from
<span class="gu">@@ -1211,7 +1290,7 @@</span>
 :func:`float` and :func:`complex`, with similar error-handling.
 
 ``&quot;choice&quot;`` options are a subtype of ``&quot;string&quot;`` options.  The
<span class="gd">-:attr:`~Option.choices`` option attribute (a sequence of strings) defines the</span>
<span class="gi">+:attr:`~Option.choices` option attribute (a sequence of strings) defines the</span>
 set of allowed option arguments.  :func:`optparse.check_choice` compares
 user-supplied option arguments against this master list and raises
 :exc:`OptionValueError` if an invalid string is given.
<span class="gu">@@ -1268,8 +1347,8 @@</span>
 
 .. method:: OptionParser.disable_interspersed_args()
 
<span class="gd">-   Set parsing to stop on the first non-option.  For example, if ``&quot;-a&quot;`` and</span>
<span class="gd">-   ``&quot;-b&quot;`` are both simple options that take no arguments, :mod:`optparse`</span>
<span class="gi">+   Set parsing to stop on the first non-option.  For example, if ``-a`` and</span>
<span class="gi">+   ``-b`` are both simple options that take no arguments, :mod:`optparse`</span>
    normally accepts this syntax::
 
       prog -a arg1 -b arg2
<span class="gu">@@ -1299,7 +1378,7 @@</span>
 .. method:: OptionParser.has_option(opt_str)
 
    Return true if the OptionParser has an option with option string *opt_str*
<span class="gd">-   (e.g., ``&quot;-q&quot;`` or ``&quot;--verbose&quot;``).</span>
<span class="gi">+   (e.g., ``-q`` or ``--verbose``).</span>
 
 .. method:: OptionParser.remove_option(opt_str)
 
<span class="gu">@@ -1352,12 +1431,12 @@</span>
    parser.add_option(&quot;-n&quot;, &quot;--noisy&quot;, ..., help=&quot;be noisy&quot;)
 
 At this point, :mod:`optparse` detects that a previously-added option is already
<span class="gd">-using the ``&quot;-n&quot;`` option string.  Since ``conflict_handler`` is ``&quot;resolve&quot;``,</span>
<span class="gd">-it resolves the situation by removing ``&quot;-n&quot;`` from the earlier option&#39;s list of</span>
<span class="gd">-option strings.  Now ``&quot;--dry-run&quot;`` is the only way for the user to activate</span>
<span class="gi">+using the ``-n`` option string.  Since ``conflict_handler`` is ``&quot;resolve&quot;``,</span>
<span class="gi">+it resolves the situation by removing ``-n`` from the earlier option&#39;s list of</span>
<span class="gi">+option strings.  Now ``--dry-run`` is the only way for the user to activate</span>
 that option.  If the user asks for help, the help message will reflect that::
 
<span class="gd">-   options:</span>
<span class="gi">+   Options:</span>
      --dry-run     do no harm
      [...]
      -n, --noisy   be noisy
<span class="gu">@@ -1370,10 +1449,10 @@</span>
 
    parser.add_option(&quot;--dry-run&quot;, ..., help=&quot;new dry-run option&quot;)
 
<span class="gd">-At this point, the original :option:`-n/--dry-run` option is no longer</span>
<span class="gi">+At this point, the original ``-n``/``--dry-run`` option is no longer</span>
 accessible, so :mod:`optparse` removes it, leaving this help text::
 
<span class="gd">-   options:</span>
<span class="gi">+   Options:</span>
      [...]
      -n, --noisy   be noisy
      --dry-run     new dry-run option
<span class="gu">@@ -1408,7 +1487,7 @@</span>
 .. method:: OptionParser.print_usage(file=None)
 
    Print the usage message for the current program (``self.usage``) to *file*
<span class="gd">-   (default stdout).  Any occurrence of the string ``&quot;%prog&quot;`` in ``self.usage``</span>
<span class="gi">+   (default stdout).  Any occurrence of the string ``%prog`` in ``self.usage``</span>
    is replaced with the name of the current program.  Does nothing if
    ``self.usage`` is empty or not defined.
 
<span class="gu">@@ -1472,9 +1551,9 @@</span>
 
 ``callback`` is a function (or other callable object), so you must have already
 defined ``my_callback()`` when you create this callback option. In this simple
<span class="gd">-case, :mod:`optparse` doesn&#39;t even know if :option:`-c` takes any arguments,</span>
<span class="gi">+case, :mod:`optparse` doesn&#39;t even know if ``-c`` takes any arguments,</span>
 which usually means that the option takes no arguments---the mere presence of
<span class="gd">-:option:`-c` on the command-line is all it needs to know.  In some</span>
<span class="gi">+``-c`` on the command-line is all it needs to know.  In some</span>
 circumstances, though, you might want your callback to consume an arbitrary
 number of command-line arguments.  This is where writing callbacks gets tricky;
 it&#39;s covered later in this section.
<span class="gu">@@ -1527,8 +1606,8 @@</span>
 ``opt_str``
    is the option string seen on the command-line that&#39;s triggering the callback.
    (If an abbreviated long option was used, ``opt_str`` will be the full,
<span class="gd">-   canonical option string---e.g. if the user puts ``&quot;--foo&quot;`` on the</span>
<span class="gd">-   command-line as an abbreviation for ``&quot;--foobar&quot;``, then ``opt_str`` will be</span>
<span class="gi">+   canonical option string---e.g. if the user puts ``--foo`` on the</span>
<span class="gi">+   command-line as an abbreviation for ``--foobar``, then ``opt_str`` will be</span>
    ``&quot;--foobar&quot;``.)
 
 ``value``
<span class="gu">@@ -1603,8 +1682,8 @@</span>
 Callback example 2: check option order
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
<span class="gd">-Here&#39;s a slightly more interesting example: record the fact that ``&quot;-a&quot;`` is</span>
<span class="gd">-seen, but blow up if it comes after ``&quot;-b&quot;`` in the command-line.  ::</span>
<span class="gi">+Here&#39;s a slightly more interesting example: record the fact that ``-a`` is</span>
<span class="gi">+seen, but blow up if it comes after ``-b`` in the command-line.  ::</span>
 
    def check_order(option, opt_str, value, parser):
        if parser.values.b:
<span class="gu">@@ -1621,7 +1700,7 @@</span>
 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
 If you want to re-use this callback for several similar options (set a flag, but
<span class="gd">-blow up if ``&quot;-b&quot;`` has already been seen), it needs a bit of work: the error</span>
<span class="gi">+blow up if ``-b`` has already been seen), it needs a bit of work: the error</span>
 message and the flag that it sets must be generalized.  ::
 
    def check_order(option, opt_str, value, parser):
<span class="gu">@@ -1691,15 +1770,15 @@</span>
 built-in capabilities for it.  And you have to deal with certain intricacies of
 conventional Unix command-line parsing that :mod:`optparse` normally handles for
 you.  In particular, callbacks should implement the conventional rules for bare
<span class="gd">-``&quot;--&quot;`` and ``&quot;-&quot;`` arguments:</span>
<span class="gd">-</span>
<span class="gd">-* either ``&quot;--&quot;`` or ``&quot;-&quot;`` can be option arguments</span>
<span class="gd">-</span>
<span class="gd">-* bare ``&quot;--&quot;`` (if not the argument to some option): halt command-line</span>
<span class="gd">-  processing and discard the ``&quot;--&quot;``</span>
<span class="gd">-</span>
<span class="gd">-* bare ``&quot;-&quot;`` (if not the argument to some option): halt command-line</span>
<span class="gd">-  processing but keep the ``&quot;-&quot;`` (append it to ``parser.largs``)</span>
<span class="gi">+``--`` and ``-`` arguments:</span>
<span class="gi">+</span>
<span class="gi">+* either ``--`` or ``-`` can be option arguments</span>
<span class="gi">+</span>
<span class="gi">+* bare ``--`` (if not the argument to some option): halt command-line</span>
<span class="gi">+  processing and discard the ``--``</span>
<span class="gi">+</span>
<span class="gi">+* bare ``-`` (if not the argument to some option): halt command-line</span>
<span class="gi">+  processing but keep the ``-`` (append it to ``parser.largs``)</span>
 
 If you want an option that takes a variable number of arguments, there are
 several subtle, tricky issues to worry about.  The exact implementation you
<span class="gu">@@ -1770,7 +1849,7 @@</span>
       def check_mytype(option, opt, value)
 
    where ``option`` is an :class:`Option` instance, ``opt`` is an option string
<span class="gd">-   (e.g., ``&quot;-f&quot;``), and ``value`` is the string from the command line that must</span>
<span class="gi">+   (e.g., ``-f``), and ``value`` is the string from the command line that must</span>
    be checked and converted to your desired type.  ``check_mytype()`` should
    return an object of the hypothetical type ``mytype``.  The value returned by
    a type-checking function will wind up in the OptionValues instance returned
<span class="gu">@@ -1882,7 +1961,7 @@</span>
 ``&quot;append&quot;`` action, but instead of taking a single value from the command-line
 and appending it to an existing list, ``&quot;extend&quot;`` will take multiple values in
 a single comma-delimited string, and extend an existing list with them.  That
<span class="gd">-is, if ``&quot;--names&quot;`` is an ``&quot;extend&quot;`` option of type ``&quot;string&quot;``, the command</span>
<span class="gi">+is, if ``--names`` is an ``&quot;extend&quot;`` option of type ``&quot;string&quot;``, the command</span>
 line ::
 
    --names=foo,bar --names blah --names ding,dong
</pre></div>

</body>
</html>