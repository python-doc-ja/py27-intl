
:mod:`py_compile` --- Pythonソースファイルのコンパイル
======================================================

.. module:: py_compile




.. index:: pair: file; byte-code

:mod:`py_compile`モジュールには、ソースファイルからバイトコードファイ ルを作る関数と、モジュールのソースファイルがスクリプトとして呼び出される
時に使用される関数が定義されています。

頻繁に必要となるわけではありませんが、共有ライブラリとしてモジュールをイ ンストールする場合や、特にソースコードのあるディレクトリにバイトコードの
キャッシュファイルを書き込む権限がないユーザがいるときには、この関数は役 に立ちます。


.. exception:: PyCompileError

   ファイルをコンパイル中にエラーが発生すると、PyCompileError例外が送出されます。


.. function:: compile(file[, cfile[, dfile[, doraise]]])

   ソースファイルをバイトコードにコンパイルして、バイトコードのキャッシュ ファイルに書き出します。 ソースコードはファイル名*file*で渡します。
   バイトコードはファイル*cfile*に書き込まれ、デフォルトでは*file* ``+`` ``'c'``（使用しているインタープリタで最適化が可能なら
   ``'o'``）です。 もし*dfile*が指定されたら、*file*の代わりにソースファイルの名前 としてエラーメッセージの中で使われます。
   *doraise* が Trueの場合、コンパイル中にエラーが発生すると :exc:`PyCompileError` を送出します。*doraise*
   がFalseの場合(デフォルト)はエラーメッセージは ``sys.stderr``に出力し、例外は送出しません。


.. function:: main([args])

   いくつか複数のソースファイルをコンパイルします。 *args*で（あるいは*args*で指定されなかったらコマンドラインで）指
   定されたファイルをコンパイルし、できたバイトコードを通常の方法で保存しま す。 この関数はソースファイルの存在するディレクトリを検索しません；指定された
   ファイルをコンパイルするだけです。

このモジュールがスクリプトとして実行されると、:func:`main`がコマン ドラインで指定されたファイルを全てコンパイルします。


.. seealso::

   Module :mod:`compileall`
      ディレクトリツリー内のPythonソースファイルを全てコンパイルするライブラリ。

