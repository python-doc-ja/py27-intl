
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
        <table class="diff" id="difflib_chg_to43__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">r262/extending/extending.rst =&gt; r266/extending/extending.rst</th></tr></thead>
            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to43__0"></td><td class="diff_header" id="from43_14">14</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_15">15</td><td nowrap="nowrap">To&nbsp;support&nbsp;extensions,&nbsp;the&nbsp;Python&nbsp;API&nbsp;(Application&nbsp;Programmers&nbsp;Interface)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_16">16</td><td nowrap="nowrap">defines&nbsp;a&nbsp;set&nbsp;of&nbsp;functions,&nbsp;macros&nbsp;and&nbsp;variables&nbsp;that&nbsp;provide&nbsp;access&nbsp;to&nbsp;most</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_17">17</td><td nowrap="nowrap">aspects&nbsp;of&nbsp;the&nbsp;Python&nbsp;run-time&nbsp;system.&nbsp;&nbsp;The&nbsp;Python&nbsp;API&nbsp;is&nbsp;incorporated&nbsp;in&nbsp;a&nbsp;C</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_18">18</td><td nowrap="nowrap">source&nbsp;file&nbsp;by&nbsp;including&nbsp;the&nbsp;header&nbsp;``"Python.h"``.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_19">19</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_20">20</td><td nowrap="nowrap">The&nbsp;compilation&nbsp;of&nbsp;an&nbsp;extension&nbsp;module&nbsp;depends&nbsp;on&nbsp;its&nbsp;intended&nbsp;use&nbsp;as&nbsp;well&nbsp;as&nbsp;on</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_21">21</td><td nowrap="nowrap">your&nbsp;system&nbsp;setup;&nbsp;details&nbsp;are&nbsp;given&nbsp;in&nbsp;later&nbsp;chapters.</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__1">n</a></td><td class="diff_header" id="to43_22">22+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_23">23+</td><td nowrap="nowrap"><span class="diff_add">Do&nbsp;note&nbsp;that&nbsp;if&nbsp;your&nbsp;use&nbsp;case&nbsp;is&nbsp;calling&nbsp;C&nbsp;library&nbsp;functions&nbsp;or&nbsp;system&nbsp;calls,</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_24">24+</td><td nowrap="nowrap"><span class="diff_add">you&nbsp;should&nbsp;consider&nbsp;using&nbsp;the&nbsp;:mod:`ctypes`&nbsp;module&nbsp;rather&nbsp;than&nbsp;writing&nbsp;custom</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_25">25+</td><td nowrap="nowrap"><span class="diff_add">C&nbsp;code.&nbsp;Not&nbsp;only&nbsp;does&nbsp;:mod:`ctypes`&nbsp;let&nbsp;you&nbsp;write&nbsp;Python&nbsp;code&nbsp;to&nbsp;interface</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_26">26+</td><td nowrap="nowrap"><span class="diff_add">with&nbsp;C&nbsp;code,&nbsp;but&nbsp;it&nbsp;is&nbsp;more&nbsp;portable&nbsp;between&nbsp;implementations&nbsp;of&nbsp;Python&nbsp;than</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_27">27+</td><td nowrap="nowrap"><span class="diff_add">writing&nbsp;and&nbsp;compiling&nbsp;an&nbsp;extension&nbsp;module&nbsp;which&nbsp;typically&nbsp;ties&nbsp;you&nbsp;to&nbsp;CPython.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_28">28+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_22">22</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_23">23</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_24">24</td><td nowrap="nowrap">..&nbsp;_extending-simpleexample:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_25">25</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_26">26</td><td nowrap="nowrap">A&nbsp;Simple&nbsp;Example</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_27">27</td><td nowrap="nowrap">================</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_28">28</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_29">29</td><td nowrap="nowrap">Let's&nbsp;create&nbsp;an&nbsp;extension&nbsp;module&nbsp;called&nbsp;``spam``&nbsp;(the&nbsp;favorite&nbsp;food&nbsp;of&nbsp;Monty</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__1"></td><td class="diff_header" id="from43_42">42</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_43">43</td><td nowrap="nowrap">The&nbsp;first&nbsp;line&nbsp;of&nbsp;our&nbsp;file&nbsp;can&nbsp;be::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_44">44</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_45">45</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;#include&nbsp;&lt;Python.h&gt;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_46">46</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_47">47</td><td nowrap="nowrap">which&nbsp;pulls&nbsp;in&nbsp;the&nbsp;Python&nbsp;API&nbsp;(you&nbsp;can&nbsp;add&nbsp;a&nbsp;comment&nbsp;describing&nbsp;the&nbsp;purpose&nbsp;of</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_48">48</td><td nowrap="nowrap">the&nbsp;module&nbsp;and&nbsp;a&nbsp;copyright&nbsp;notice&nbsp;if&nbsp;you&nbsp;like).</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_49">49</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__2">n</a></td><td class="diff_header" id="from43_50">50-</td><td nowrap="nowrap"><span class="diff_sub">..&nbsp;warning::</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to43__2">n</a></td><td class="diff_header" id="to43_57">57+</td><td nowrap="nowrap"><span class="diff_add">..&nbsp;note::</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_51">51</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_52">52</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Since&nbsp;Python&nbsp;may&nbsp;define&nbsp;some&nbsp;pre-processor&nbsp;definitions&nbsp;which&nbsp;affect&nbsp;the&nbsp;standard</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_53">53</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;headers&nbsp;on&nbsp;some&nbsp;systems,&nbsp;you&nbsp;*must*&nbsp;include&nbsp;:file:`Python.h`&nbsp;before&nbsp;any&nbsp;standard</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_54">54</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;headers&nbsp;are&nbsp;included.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_55">55</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_56">56</td><td nowrap="nowrap">All&nbsp;user-visible&nbsp;symbols&nbsp;defined&nbsp;by&nbsp;:file:`Python.h`&nbsp;have&nbsp;a&nbsp;prefix&nbsp;of&nbsp;``Py``&nbsp;or</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_57">57</td><td nowrap="nowrap">``PY``,&nbsp;except&nbsp;those&nbsp;defined&nbsp;in&nbsp;standard&nbsp;header&nbsp;files.&nbsp;For&nbsp;convenience,&nbsp;and</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_58">58</td><td nowrap="nowrap">since&nbsp;they&nbsp;are&nbsp;used&nbsp;extensively&nbsp;by&nbsp;the&nbsp;Python&nbsp;interpreter,&nbsp;``"Python.h"``</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__2"></td><td class="diff_header" id="from43_216">216</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_217">217</td><td nowrap="nowrap">Note&nbsp;also&nbsp;that&nbsp;the&nbsp;:cdata:`SpamError`&nbsp;variable&nbsp;retains&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;newly</td></tr>            <tr><td class="diff_next" id="difflib_chg_to43__3"></td><td class="diff_header" id="from43_218">218</td><td nowrap="nowrap">created&nbsp;exception&nbsp;class;&nbsp;this&nbsp;is&nbsp;intentional!&nbsp;&nbsp;Since&nbsp;the&nbsp;exception&nbsp;could&nbsp;be</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_219">219</td><td nowrap="nowrap">removed&nbsp;from&nbsp;the&nbsp;module&nbsp;by&nbsp;external&nbsp;code,&nbsp;an&nbsp;owned&nbsp;reference&nbsp;to&nbsp;the&nbsp;class&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_220">220</td><td nowrap="nowrap">needed&nbsp;to&nbsp;ensure&nbsp;that&nbsp;it&nbsp;will&nbsp;not&nbsp;be&nbsp;discarded,&nbsp;causing&nbsp;:cdata:`SpamError`&nbsp;to</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_221">221</td><td nowrap="nowrap">become&nbsp;a&nbsp;dangling&nbsp;pointer.&nbsp;Should&nbsp;it&nbsp;become&nbsp;a&nbsp;dangling&nbsp;pointer,&nbsp;C&nbsp;code&nbsp;which</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_222">222</td><td nowrap="nowrap">raises&nbsp;the&nbsp;exception&nbsp;could&nbsp;cause&nbsp;a&nbsp;core&nbsp;dump&nbsp;or&nbsp;other&nbsp;unintended&nbsp;side&nbsp;effects.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_223">223</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__3">n</a></td><td class="diff_header" id="from43_224">224-</td><td nowrap="nowrap">We&nbsp;discuss&nbsp;the&nbsp;use&nbsp;of&nbsp;PyMODINIT_FUNC&nbsp;as&nbsp;a&nbsp;function&nbsp;return&nbsp;type&nbsp;later&nbsp;in&nbsp;this</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to43__3">n</a></td><td class="diff_header" id="to43_231">231+</td><td nowrap="nowrap">We&nbsp;discuss&nbsp;the&nbsp;use&nbsp;of&nbsp;<span class="diff_add">``</span>PyMODINIT_FUNC<span class="diff_add">``</span>&nbsp;as&nbsp;a&nbsp;function&nbsp;return&nbsp;type&nbsp;later&nbsp;in&nbsp;this</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_225">225</td><td nowrap="nowrap">sample.</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__4">n</a></td><td class="diff_header" id="to43_233">233+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_234">234+</td><td nowrap="nowrap"><span class="diff_add">The&nbsp;:exc:`spam.error`&nbsp;exception&nbsp;can&nbsp;be&nbsp;raised&nbsp;in&nbsp;your&nbsp;extension&nbsp;module&nbsp;using&nbsp;a</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_235">235+</td><td nowrap="nowrap"><span class="diff_add">call&nbsp;to&nbsp;:cfunc:`PyErr_SetString`&nbsp;as&nbsp;shown&nbsp;below::</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_236">236+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_237">237+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;static&nbsp;PyObject&nbsp;*</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_238">238+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;spam_system(PyObject&nbsp;*self,&nbsp;PyObject&nbsp;*args)</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_239">239+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;{</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_240">240+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;char&nbsp;*command;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_241">241+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sts;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_242">242+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_243">243+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!PyArg_ParseTuple(args,&nbsp;"s",&nbsp;&amp;command))</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_244">244+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NULL;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_245">245+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sts&nbsp;=&nbsp;system(command);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_246">246+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sts&nbsp;&lt;&nbsp;0)&nbsp;{</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_247">247+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PyErr_SetString(SpamError,&nbsp;"System&nbsp;command&nbsp;failed");</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_248">248+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;NULL;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_249">249+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_250">250+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;PyLong_FromLong(sts);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_251">251+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;}</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_226">226</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_227">227</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_228">228</td><td nowrap="nowrap">..&nbsp;_backtoexample:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_229">229</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_230">230</td><td nowrap="nowrap">Back&nbsp;to&nbsp;the&nbsp;Example</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_231">231</td><td nowrap="nowrap">===================</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_232">232</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_233">233</td><td nowrap="nowrap">Going&nbsp;back&nbsp;to&nbsp;our&nbsp;example&nbsp;function,&nbsp;you&nbsp;should&nbsp;now&nbsp;be&nbsp;able&nbsp;to&nbsp;understand&nbsp;this</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to43__4"></td><td class="diff_header" id="from43_1214">1214</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1215">1215</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;#define&nbsp;PySpam_System&nbsp;\</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1216">1216</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;(*(PySpam_System_RETURN&nbsp;(*)PySpam_System_PROTO)&nbsp;PySpam_API[PySpam_System_NUM])</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1217">1217</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1218">1218</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;/*&nbsp;Return&nbsp;-1&nbsp;and&nbsp;set&nbsp;exception&nbsp;on&nbsp;error,&nbsp;0&nbsp;on&nbsp;success.&nbsp;*/</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1219">1219</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;static&nbsp;int</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1220">1220</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;import_spam(void)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1221">1221</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;{</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__5">n</a></td><td class="diff_header" id="to43_1248">1248+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PyObject&nbsp;*c_api_object;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1249">1249+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PyObject&nbsp;*module;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1250">1250+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1222">1222-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">PyObject&nbsp;*</span>module&nbsp;=&nbsp;PyImport_ImportModule("spam");</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1251">1251+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module&nbsp;=&nbsp;PyImport_ImportModule("spam");</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1223">1223-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1224">1224-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(module&nbsp;<span class="diff_sub">!</span>=&nbsp;NULL)<span class="diff_sub">&nbsp;{</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1252">1252+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(module&nbsp;=<span class="diff_add">=</span>&nbsp;NULL)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1253">1253+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1254">1254+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to43__5"></td><td class="diff_header" id="from43_1225">1225-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;PyObject&nbsp;*</span>c_api_object&nbsp;=&nbsp;PyObject_GetAttrString(module,&nbsp;"_C_API");</td></tr>
<tr><td class="diff_next" id="difflib_chg_to43__5"></td><td class="diff_header" id="to43_1255">1255+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c_api_object&nbsp;=&nbsp;PyObject_GetAttrString(module,&nbsp;"_C_API");</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1226">1226-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c_api_object&nbsp;==&nbsp;NULL)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1256">1256+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(c_api_object&nbsp;==&nbsp;NULL)<span class="diff_add">&nbsp;{</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1257">1257+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Py_DECREF(module);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1227">1227-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1258">1258+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1228">1228-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(PyCObject_Check(c_api_object))</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1229">1229-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PySpam_API&nbsp;=&nbsp;(void&nbsp;**)PyCObject_AsVoidPtr(c_api_object);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from43_1230">1230-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Py_DECREF(c_api_object);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1231">1231</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to43__top">t</a></td><td class="diff_header" id="to43_1260">1260+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(PyCObject_Check(c_api_object))</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1261">1261+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PySpam_API&nbsp;=&nbsp;(void&nbsp;**)PyCObject_AsVoidPtr(c_api_object);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1262">1262+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1263">1263+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Py_DECREF(c_api_object);</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to43_1264">1264+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Py_DECREF(module);</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1232">1232</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1233">1233</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1234">1234</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1235">1235</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;#endif</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1236">1236</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1237">1237</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;#ifdef&nbsp;__cplusplus</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1238">1238</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from43_1239">1239</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;#endif</td></tr>        </tbody>
        </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>