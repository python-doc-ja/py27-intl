\section{\module{macostools} ---
ファイル操作を便利にするルーチン集}

\declaremodule{standard}{macostools}
  \platform{Mac}
\modulesynopsis{ファイル操作を便利にするルーチン集。}

このモジュールには、Macintosh 上でのファイル操作を便利にするための
ルーチンがいくつか入っています。全てファイルパラメタは，パス名か
\class{FSRef} または\class{FSSpec} オブジェクトで指定できます。
このモジュールは、リソースフォークつきファイル (forked file) をサポート
するファイルシステムを想定しているので、UFSパーティションに使っては
なりません．

\module{macostools} モジュールでは以下の関数を定義しています。

\begin{funcdesc}{copy}{src, dst\optional{, createpath\optional{, copytimes}}}
ファイル\var{src}を\var{dst}へコピーします。
\var{createpath} が真なら、必要に応じて\var{dst}に至るまでのフォルダ
を作成します。
このメソッドはデータとリソースフォーク，そしていくつかのファインダ情報
(クリエータ、タイプ、フラグ) をコピーします。オプションの \var{copytypes}
を指定すると，作成日、修正日、バックアップ日の情報のコピー (デフォルトでは
コピーします) を制御できます。カスタムアイコン、コメント、アイコン位置は
コピーされません。
\end{funcdesc}

\begin{funcdesc}{copytree}{src, dst}
\var{src}から\var{dst}へ再帰的にファイルのツリーをコピーします。
必要に応じてフォルダを作成してゆきます．\var{src}と\var{dst}はパス名で
指定しなければなりません。
\end{funcdesc}

\begin{funcdesc}{mkalias}{src, dst}
\var{src}を示すファインダエイリアス\var{dst}を作成します。
\end{funcdesc}

\begin{funcdesc}{touched}{dst}
ファイル\var{dst}のクリエータやタイプなどのファインダ情報が変わったこと
をファインダに知らせます。
ファイルはパス名か\class{FSSpec}で指定できます。この呼び出しは，
ファインダにアイコンを再描画させるよう命令します。
\end{funcdesc}

\begin{datadesc}{BUFSIZ}
\code{copy}に用いるバッファサイズで、デフォルトは 1 メガバイトです。
\end{datadesc}

Apple のドキュメントでは，ファインダエイリアスの作成プロセスを規定して
いません．そのため，\function{mkalias()} で作成したエイリアスが互換性の
ない振る舞いをする可能性があるので注意してください。

\section{\module{findertools} ---
\program{finder} のApple Eventsインターフェース}

\declaremodule{standard}{findertools}
  \platform{Mac}
\modulesynopsis{
\program{finder}のApple Eventsインターフェースのラッパ。}

このモジュールのルーチンを使うと、Pythonプログラムからファインダが持つい
くつかの機能へアクセスできます。
これらの機能はファインダへのAppleEvent\index{AppleEvents}インターフェー
スのラッパとして実装されています。
全てのファイルとフォルダのパラメータは、フルパス名、あるいは
\class{FSRef}か\class{FSSpec}オブジェクトで指定できます。

\module{findertools}モジュールは以下の関数を定義しています。

\begin{funcdesc}{launch}{file}
ファインダに\var{file}を起動するように命令します。
起動が意味するものは\var{file}に依存します。アプリケーションなら起動しま
すし、フォルダなら開かれ、文書なら適切なアプリケーションで開かれます。
\end{funcdesc}

\begin{funcdesc}{Print}{file}
ファインダにファイルを印刷するよう命令します。
実際の動作はファイルを選択し、ファインダのファイルメニューから印刷コマン
ドを使うのと同じです。
\end{funcdesc}

\begin{funcdesc}{copy}{file, destdir}
ファインダにファイルかフォルダである\var{file}をフォルダ\var{destdir}に
コピーするよう命令します。
この関数は新しいファイルを示す\class{Alias}オブジェクトを返します。
\end{funcdesc}

\begin{funcdesc}{move}{file, destdir}
ファインダにファイルかフォルダである\var{file}をフォルダ\var{destdir}に
移動するように命令します。
この関数は新しいファイルを示す\class{Alias}オブジェクトを返します。
\end{funcdesc}

\begin{funcdesc}{sleep}{}
マシンがサポートしていれば、ファインダにMacintoshをスリープさせるよう命
令します。
\end{funcdesc}

\begin{funcdesc}{restart}{}
ファインダに、マシンを適切に再起動するよう命令します。
\end{funcdesc}

\begin{funcdesc}{shutdown}{}
ファインダに、マシンを適切にシャットダウンするよう命令します。
\end{funcdesc}