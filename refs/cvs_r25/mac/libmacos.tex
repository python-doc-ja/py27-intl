\section{\module{MacOS} ---
         Mac OS インタプリタ機能へのアクセス}
% Access to Mac OS interpreter features

\declaremodule{builtin}{MacOS}
  \platform{Mac}
\modulesynopsis{Mac OS 固有のインタープリタ機能へのアクセス。}
% Access to Mac OS-specific interpreter features.


%% This module provides access to MacOS specific functionality in the
%% Python interpreter, such as how the interpreter eventloop functions
%% and the like. Use with care.

このモジュールは、Python インタプリタ内の MacOS 固有の機能に対するアク
セスを提供します。例えば、インタプリタのイベントループ関数などです。十
分注意して利用してください。

%% Note the capitalization of the module name; this is a historical
%% artifact.

モジュール名が大文字で始まることに注意してください。これは昔からの約束
です。

\begin{datadesc}{runtimemodel}
%% Always \code{'macho'}, from Python 2.4 on.
%% In earlier versions of Python the value could
%% also be \code{'ppc'} for the classic Mac OS 8 runtime model or
%% \code{'carbon'} for the Mac OS 9 runtime model.
Python 2.4 以降は常に \code{'macho'} です。それより前のバージョンの
Python では、古い Mac OS 8 ランタイムモデルの場合は \code{'ppc'}、
Mac OS 9 ランタイムモデルの場合は \code{'carbon'} となります。
\end{datadesc}

\begin{datadesc}{linkmodel}
%% The way the interpreter has been linked. As extension modules may be
%% incompatible between linking models, packages could use this information to give
%% more decent error messages. The value is one of \code{'static'} for a
%% statically linked Python, \code{'framework'} for Python in a Mac OS X framework,
%% \code{'shared'} for Python in a standard \UNIX{} shared library.
%% Older Pythons could also have the value
%% \code{'cfm'} for Mac OS 9-compatible Python.
インタープリタがどのような方法でリンクされているかを返します。拡張モ
ジュールがリンクモデル間で非互換性かもしれない場合、パッケージはより多
くの適切なエラーメッセージを伝えるためにこの情報を使用することができま
す。値は静的リンクした Python は \code{'static'}、Mac OS X framework 
で構築した Python は \code{'framework'}、標準の \UNIX{} 共有ライブラリ
(shared library)で構築された Python は \code{'shared'} となります。
古いバージョンの Python の場合、Mac OS 9 互換の Python では \code{'cfm'}
となります。
\end{datadesc}

\begin{excdesc}{Error}
%% This exception is raised on MacOS generated errors, either from
%% functions in this module or from other mac-specific modules like the
%% toolbox interfaces. The arguments are the integer error code (the
%% \cdata{OSErr} value) and a textual description of the error code.
%% Symbolic names for all known error codes are defined in the standard
%% module \refmodule{macerrors}.\refstmodindex{macerrors}
MacOS でエラーがあると、このモジュールの関数か、Mac 固有なツールボック
スインターフェースモジュールから、この例外が生成されます。引数は、整数
エラーコード(\cdata{OSErr} 値)とテキストで記述されたエラーコードです。
分かっている全てのエラーコードのシンボル名は、標準モジュール 
\refmodule{macerrors}\refstmodindex{macerrors} で定義されています。
\end{excdesc}


\begin{funcdesc}{GetErrorString}{errno}
%% Return the textual description of MacOS error code \var{errno}.

MacOSのエラーコード \var{errno} のテキスト表現を返します。
\end{funcdesc}

\begin{funcdesc}{DebugStr}{message \optional{, object}}
%% On Mac OS X the string is simply printed to stderr (on older
%% Mac OS systems more elaborate functionality was available),
%% but it provides a convenient location to attach a breakpoint
%% in a low-level debugger like \program{gdb}.

Mac OS X上では、文字列を単純に標準出力に送ります (古いバージョンの
Mac OSでは、より複雑な機能が使用できました)。しかし、低水準のデバッガ
(\program{gdb}など) 用にブレークポイントを設定する場所も適切に用意しています。
\end{funcdesc}

\begin{funcdesc}{SysBeep}{}
%% Ring the bell.

ベルを鳴らします。
\end{funcdesc}

\begin{funcdesc}{GetTicks}{}
%% Get the number of clock ticks (1/60th of a second) since system boot.

システム起動時からのチック数(clock ticks、1/60秒)を得ます。
\end{funcdesc}

\begin{funcdesc}{GetCreatorAndType}{file}
%% Return the file creator and file type as two four-character strings.
%% The \var{file} parameter can be a pathname or an \code{FSSpec} or 
%% \code{FSRef} object.

2つの4文字の文字列としてファイルクリエータおよびファイルタイプを返しま
す。\var{file} 引数はパスもしくは、\code{FSSpec}、\code{FSRef} オブジェ
クトを与える事ができます。
\end{funcdesc}

\begin{funcdesc}{SetCreatorAndType}{file, creator, type}
%% Set the file creator and file type.
%% The \var{file} parameter can be a pathname or an \code{FSSpec} or 
%% \code{FSRef} object. \var{creator} and \var{type} must be four character
%% strings.

ファイルクリエータおよびファイルタイプを設定します。\var{file} 引数は
パスもしくは、\code{FSSpec}、\code{FSRef} オブジェクトを与える事ができ
ます。\var{creator} と \var{type} は4文字の文字列が必要です。
\end{funcdesc}

\begin{funcdesc}{openrf}{name \optional{, mode}}
%% Open the resource fork of a file. Arguments are the same as for the
%% built-in function \function{open()}. The object returned has file-like
%% semantics, but it is not a Python file object, so there may be subtle
%% differences.
  
ファイルのリソースフォークを開きます。引数は組み込み関数 
\function{open()} と同じです。返されたオブジェクトはファイルのように
見えるかもしれませんが、これは Python のファイルオブジェクトではあり
ませんので扱いに微妙な違いがあります。
\end{funcdesc}

\begin{funcdesc}{WMAvailable}{}
%% Checks wether the current process has access to the window manager.
%% The method will return \code{False} if the window manager is not available,
%% for instance when running on Mac OS X Server or when logged in via ssh,
%% or when the current interpreter is not running from a fullblown application
%% bundle. A script runs from an application bundle either when it has been
%% started with \program{pythonw} in stead of \program{python} or when running 
%% as an applet.

現在のプロセスが動作しているウィンドウマネージャにアクセスします。例え
ば、Mac OS X サーバー上、あるいは SSH でログインしている、もしくは現在
のインタープリタがフルブローンアプリケーションバンドル(fullblown
application bundle)から起動されていない場合などのような、ウィンドウマネー
ジャが存在しない場合は \code{False} を返します。
\end{funcdesc}
