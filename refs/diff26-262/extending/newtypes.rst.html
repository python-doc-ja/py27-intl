
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
        <table class="diff" id="difflib_chg_to33__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">rest26/extending/newtypes.rst =&gt; rest262/extending/newtypes.rst</th></tr></thead>
            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to33__0"></td><td class="diff_header" id="from33_835">835</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_836">836</td><td nowrap="nowrap">..&nbsp;literalinclude::&nbsp;../includes/shoddy.c</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_837">837</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_838">838</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_839">839</td><td nowrap="nowrap">As&nbsp;you&nbsp;can&nbsp;see,&nbsp;the&nbsp;source&nbsp;code&nbsp;closely&nbsp;resembles&nbsp;the&nbsp;:class:`Noddy`&nbsp;examples&nbsp;in</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_840">840</td><td nowrap="nowrap">previous&nbsp;sections.&nbsp;We&nbsp;will&nbsp;break&nbsp;down&nbsp;the&nbsp;main&nbsp;differences&nbsp;between&nbsp;them.&nbsp;::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_841">841</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_842">842</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;typedef&nbsp;struct&nbsp;{</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__1">n</a></td><td class="diff_header" id="from33_843">843-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PyListObject&nbsp;list;</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__1">n</a></td><td class="diff_header" id="to33_843">843+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>PyListObject&nbsp;list;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_844">844-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;state;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_844">844+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;state;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_845">845</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}&nbsp;Shoddy;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_846">846</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_847">847</td><td nowrap="nowrap">The&nbsp;primary&nbsp;difference&nbsp;for&nbsp;derived&nbsp;type&nbsp;objects&nbsp;is&nbsp;that&nbsp;the&nbsp;base&nbsp;type's&nbsp;object</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_848">848</td><td nowrap="nowrap">structure&nbsp;must&nbsp;be&nbsp;the&nbsp;first&nbsp;value.&nbsp;The&nbsp;base&nbsp;type&nbsp;will&nbsp;already&nbsp;include&nbsp;the</td></tr>            <tr><td class="diff_next" id="difflib_chg_to33__1"></td><td class="diff_header" id="from33_849">849</td><td nowrap="nowrap">:cfunc:`PyObject_HEAD`&nbsp;at&nbsp;the&nbsp;beginning&nbsp;of&nbsp;its&nbsp;structure.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_850">850</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_851">851</td><td nowrap="nowrap">When&nbsp;a&nbsp;Python&nbsp;object&nbsp;is&nbsp;a&nbsp;:class:`Shoddy`&nbsp;instance,&nbsp;its&nbsp;*PyObject\**&nbsp;pointer&nbsp;can</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_852">852</td><td nowrap="nowrap">be&nbsp;safely&nbsp;cast&nbsp;to&nbsp;both&nbsp;*PyListObject\**&nbsp;and&nbsp;*Shoddy\**.&nbsp;::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_853">853</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_854">854</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;static&nbsp;int</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_855">855</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Shoddy_init(Shoddy&nbsp;*self,&nbsp;PyObject&nbsp;*args,&nbsp;PyObject&nbsp;*kwds)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_856">856</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;{</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__2">n</a></td><td class="diff_header" id="from33_857">857-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(PyList_Type.tp_init((PyObject&nbsp;*)self,&nbsp;args,&nbsp;kwds)&nbsp;&lt;&nbsp;0)</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__2">n</a></td><td class="diff_header" id="to33_857">857+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(PyList_Type.tp_init((PyObject&nbsp;*)self,&nbsp;args,&nbsp;kwds)&nbsp;&lt;&nbsp;0)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_858">858-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_858">858+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_859">859-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>self-&gt;state&nbsp;=&nbsp;0;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_859">859+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>self-&gt;state&nbsp;=&nbsp;0;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_860">860-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_860">860+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;0;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_861">861</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_862">862</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_863">863</td><td nowrap="nowrap">In&nbsp;the&nbsp;:attr:`__init__`&nbsp;method&nbsp;for&nbsp;our&nbsp;type,&nbsp;we&nbsp;can&nbsp;see&nbsp;how&nbsp;to&nbsp;call&nbsp;through&nbsp;to</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_864">864</td><td nowrap="nowrap">the&nbsp;:attr:`__init__`&nbsp;method&nbsp;of&nbsp;the&nbsp;base&nbsp;type.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_865">865</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_866">866</td><td nowrap="nowrap">This&nbsp;pattern&nbsp;is&nbsp;important&nbsp;when&nbsp;writing&nbsp;a&nbsp;type&nbsp;with&nbsp;custom&nbsp;:attr:`new`&nbsp;and</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_867">867</td><td nowrap="nowrap">:attr:`dealloc`&nbsp;methods.&nbsp;The&nbsp;:attr:`new`&nbsp;method&nbsp;should&nbsp;not&nbsp;actually&nbsp;create&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_868">868</td><td nowrap="nowrap">memory&nbsp;for&nbsp;the&nbsp;object&nbsp;with&nbsp;:attr:`tp_alloc`,&nbsp;that&nbsp;will&nbsp;be&nbsp;handled&nbsp;by&nbsp;the&nbsp;base</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to33__2"></td><td class="diff_header" id="from33_871">871</td><td nowrap="nowrap">When&nbsp;filling&nbsp;out&nbsp;the&nbsp;:cfunc:`PyTypeObject`&nbsp;for&nbsp;the&nbsp;:class:`Shoddy`&nbsp;type,&nbsp;you&nbsp;see</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_872">872</td><td nowrap="nowrap">a&nbsp;slot&nbsp;for&nbsp;:cfunc:`tp_base`.&nbsp;Due&nbsp;to&nbsp;cross&nbsp;platform&nbsp;compiler&nbsp;issues,&nbsp;you&nbsp;can't</td></tr>            <tr><td class="diff_next" id="difflib_chg_to33__3"></td><td class="diff_header" id="from33_873">873</td><td nowrap="nowrap">fill&nbsp;that&nbsp;field&nbsp;directly&nbsp;with&nbsp;the&nbsp;:cfunc:`PyList_Type`;&nbsp;it&nbsp;can&nbsp;be&nbsp;done&nbsp;later&nbsp;in</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_874">874</td><td nowrap="nowrap">the&nbsp;module's&nbsp;:cfunc:`init`&nbsp;function.&nbsp;::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_875">875</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_876">876</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;PyMODINIT_FUNC</td></tr>            <tr><td class="diff_next" id="difflib_chg_to33__4"></td><td class="diff_header" id="from33_877">877</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;initshoddy(void)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_878">878</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;{</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__3">n</a></td><td class="diff_header" id="from33_879">879-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PyObject&nbsp;*m;</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__3">n</a></td><td class="diff_header" id="to33_879">879+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>PyObject&nbsp;*m;</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_880">880</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next" id="difflib_chg_to33__5"><a href="#difflib_chg_to33__4">n</a></td><td class="diff_header" id="from33_881">881-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ShoddyType.tp_base&nbsp;=&nbsp;&amp;PyList_Type;</td></tr>
<tr><td class="diff_next" id="difflib_chg_to33__5"><a href="#difflib_chg_to33__4">n</a></td><td class="diff_header" id="to33_881">881+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>ShoddyType.tp_base&nbsp;=&nbsp;&amp;PyList_Type;</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_882">882-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(PyType_Ready(&amp;ShoddyType)&nbsp;&lt;&nbsp;0)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_882">882+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(PyType_Ready(&amp;ShoddyType)&nbsp;&lt;&nbsp;0)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_883">883-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_883">883+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_884">884</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__5">n</a></td><td class="diff_header" id="from33_885">885-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>m&nbsp;=&nbsp;Py_InitModule3("shoddy",&nbsp;NULL,&nbsp;"Shoddy&nbsp;module");</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__5">n</a></td><td class="diff_header" id="to33_885">885+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>m&nbsp;=&nbsp;Py_InitModule3("shoddy",&nbsp;NULL,&nbsp;"Shoddy&nbsp;module");</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_886">886-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(m&nbsp;==&nbsp;NULL)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_886">886+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>if&nbsp;(m&nbsp;==&nbsp;NULL)</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_887">887-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_887">887+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_888">888</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__6">n</a></td><td class="diff_header" id="from33_889">889-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>Py_INCREF(&amp;ShoddyType);</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__6">n</a></td><td class="diff_header" id="to33_889">889+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>Py_INCREF(&amp;ShoddyType);</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from33_890">890-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>PyModule_AddObject(m,&nbsp;"Shoddy",&nbsp;(PyObject&nbsp;*)&nbsp;&amp;ShoddyType);</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to33_890">890+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;</span>PyModule_AddObject(m,&nbsp;"Shoddy",&nbsp;(PyObject&nbsp;*)&nbsp;&amp;ShoddyType);</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_891">891</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_892">892</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_893">893</td><td nowrap="nowrap">Before&nbsp;calling&nbsp;:cfunc:`PyType_Ready`,&nbsp;the&nbsp;type&nbsp;structure&nbsp;must&nbsp;have&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_894">894</td><td nowrap="nowrap">:attr:`tp_base`&nbsp;slot&nbsp;filled&nbsp;in.&nbsp;When&nbsp;we&nbsp;are&nbsp;deriving&nbsp;a&nbsp;new&nbsp;type,&nbsp;it&nbsp;is&nbsp;not</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_895">895</td><td nowrap="nowrap">necessary&nbsp;to&nbsp;fill&nbsp;out&nbsp;the&nbsp;:attr:`tp_alloc`&nbsp;slot&nbsp;with&nbsp;:cfunc:`PyType_GenericNew`</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_896">896</td><td nowrap="nowrap">--&nbsp;the&nbsp;allocate&nbsp;function&nbsp;from&nbsp;the&nbsp;base&nbsp;type&nbsp;will&nbsp;be&nbsp;inherited.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_897">897</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_898">898</td><td nowrap="nowrap">After&nbsp;that,&nbsp;calling&nbsp;:cfunc:`PyType_Ready`&nbsp;and&nbsp;adding&nbsp;the&nbsp;type&nbsp;object&nbsp;to&nbsp;the</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to33__6"></td><td class="diff_header" id="from33_1162">1162</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1163">1163</td><td nowrap="nowrap">If&nbsp;:attr:`tp_methods`&nbsp;is&nbsp;not&nbsp;*NULL*,&nbsp;it&nbsp;must&nbsp;refer&nbsp;to&nbsp;an&nbsp;array&nbsp;of</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1164">1164</td><td nowrap="nowrap">:ctype:`PyMethodDef`&nbsp;structures.&nbsp;&nbsp;Each&nbsp;entry&nbsp;in&nbsp;the&nbsp;table&nbsp;is&nbsp;an&nbsp;instance&nbsp;of&nbsp;this</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1165">1165</td><td nowrap="nowrap">structure::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1166">1166</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1167">1167</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;typedef&nbsp;struct&nbsp;PyMethodDef&nbsp;{</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1168">1168</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ml_name;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;method&nbsp;name&nbsp;*/</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1169">1169</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PyCFunction&nbsp;&nbsp;ml_meth;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;implementation&nbsp;function&nbsp;*/</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__7">n</a></td><td class="diff_header" id="from33_1170">1170-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int<span class="diff_chg">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_flags;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;flags&nbsp;*/</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__7">n</a></td><td class="diff_header" id="to33_1170">1170+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int<span class="diff_chg">&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ml_flags;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;flags&nbsp;*/</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1171">1171</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*ml_doc;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*&nbsp;docstring&nbsp;*/</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1172">1172</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;}&nbsp;PyMethodDef;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1173">1173</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1174">1174</td><td nowrap="nowrap">One&nbsp;entry&nbsp;should&nbsp;be&nbsp;defined&nbsp;for&nbsp;each&nbsp;method&nbsp;provided&nbsp;by&nbsp;the&nbsp;type;&nbsp;no&nbsp;entries&nbsp;are</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1175">1175</td><td nowrap="nowrap">needed&nbsp;for&nbsp;methods&nbsp;inherited&nbsp;from&nbsp;a&nbsp;base&nbsp;type.&nbsp;&nbsp;One&nbsp;additional&nbsp;entry&nbsp;is&nbsp;needed</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1176">1176</td><td nowrap="nowrap">at&nbsp;the&nbsp;end;&nbsp;it&nbsp;is&nbsp;a&nbsp;sentinel&nbsp;that&nbsp;marks&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;array.&nbsp;&nbsp;The</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1177">1177</td><td nowrap="nowrap">:attr:`ml_name`&nbsp;field&nbsp;of&nbsp;the&nbsp;sentinel&nbsp;must&nbsp;be&nbsp;*NULL*.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1178">1178</td><td nowrap="nowrap"></td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to33__7"></td><td class="diff_header" id="from33_1229">1229</td><td nowrap="nowrap">have&nbsp;an&nbsp;associated&nbsp;doc&nbsp;string&nbsp;simply&nbsp;by&nbsp;providing&nbsp;the&nbsp;text&nbsp;in&nbsp;the&nbsp;table.&nbsp;&nbsp;An</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1230">1230</td><td nowrap="nowrap">application&nbsp;can&nbsp;use&nbsp;the&nbsp;introspection&nbsp;API&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;descriptor&nbsp;from&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1231">1231</td><td nowrap="nowrap">class&nbsp;object,&nbsp;and&nbsp;get&nbsp;the&nbsp;doc&nbsp;string&nbsp;using&nbsp;its&nbsp;:attr:`__doc__`&nbsp;attribute.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1232">1232</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1233">1233</td><td nowrap="nowrap">As&nbsp;with&nbsp;the&nbsp;:attr:`tp_methods`&nbsp;table,&nbsp;a&nbsp;sentinel&nbsp;entry&nbsp;with&nbsp;a&nbsp;:attr:`name`&nbsp;value</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1234">1234</td><td nowrap="nowrap">of&nbsp;*NULL*&nbsp;is&nbsp;required.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1235">1235</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1236">1236</td><td nowrap="nowrap">..&nbsp;XXX&nbsp;Descriptors&nbsp;need&nbsp;to&nbsp;be&nbsp;explained&nbsp;in&nbsp;more&nbsp;detail&nbsp;somewhere,&nbsp;but&nbsp;not&nbsp;here.</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to33__top">t</a></td><td class="diff_header" id="from33_1237">1237-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to33__top">t</a></td><td class="diff_header" id="to33_1237">1237+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1238">1238</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Descriptor&nbsp;objects&nbsp;have&nbsp;two&nbsp;handler&nbsp;functions&nbsp;which&nbsp;correspond&nbsp;to&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1239">1239</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;\member{tp_getattro}&nbsp;and&nbsp;\member{tp_setattro}&nbsp;handlers.&nbsp;&nbsp;The</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1240">1240</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;\method{__get__()}&nbsp;handler&nbsp;is&nbsp;a&nbsp;function&nbsp;which&nbsp;is&nbsp;passed&nbsp;the&nbsp;descriptor,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1241">1241</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;instance,&nbsp;and&nbsp;type&nbsp;objects,&nbsp;and&nbsp;returns&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;attribute,&nbsp;or&nbsp;it</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1242">1242</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;returns&nbsp;\NULL{}&nbsp;and&nbsp;sets&nbsp;an&nbsp;exception.&nbsp;&nbsp;The&nbsp;\method{__set__()}&nbsp;handler&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1243">1243</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;passed&nbsp;the&nbsp;descriptor,&nbsp;instance,&nbsp;type,&nbsp;and&nbsp;new&nbsp;value;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1244">1244</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from33_1245">1245</td><td nowrap="nowrap"></td></tr>        </tbody>
        </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>