
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
        <table class="diff" id="difflib_chg_to5__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">rest26/c-api/init.rst =&gt; rest262/c-api/init.rst</th></tr></thead>
            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to5__0"></td><td class="diff_header" id="from5_348">348</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_349">349</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PySys_SetArgv(int&nbsp;argc,&nbsp;char&nbsp;**argv)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_350">350</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_351">351</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;index::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_352">352</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single:&nbsp;main()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_353">353</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single:&nbsp;Py_FatalError()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_354">354</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single:&nbsp;argv&nbsp;(in&nbsp;module&nbsp;sys)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_355">355</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__1">n</a></td><td class="diff_header" id="from5_356">356-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Set&nbsp;<span class="diff_chg">`</span>`sys.argv`<span class="diff_sub">`</span>&nbsp;based&nbsp;on&nbsp;*argc*&nbsp;and&nbsp;*argv*.&nbsp;&nbsp;These&nbsp;parameters&nbsp;are<span class="diff_sub">&nbsp;similar&nbsp;to</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__1">n</a></td><td class="diff_header" id="to5_356">356+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Set&nbsp;<span class="diff_chg">:data:</span>`sys.argv`&nbsp;based&nbsp;on&nbsp;*argc*&nbsp;and&nbsp;*argv*.&nbsp;&nbsp;These&nbsp;parameters&nbsp;are</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_357">357-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;those&nbsp;passed&nbsp;to&nbsp;the&nbsp;program's&nbsp;:cfunc:`main`&nbsp;function&nbsp;with&nbsp;the<span class="diff_sub">&nbsp;difference&nbsp;that</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_357">357+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;similar&nbsp;to</span>&nbsp;those&nbsp;passed&nbsp;to&nbsp;the&nbsp;program's&nbsp;:cfunc:`main`&nbsp;function&nbsp;with&nbsp;the</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_358">358-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;entry&nbsp;should&nbsp;refer&nbsp;to&nbsp;the&nbsp;script&nbsp;file&nbsp;to&nbsp;be&nbsp;executed&nbsp;rather&nbsp;than&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_358">358+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;difference&nbsp;that&nbsp;the&nbsp;first&nbsp;entry&nbsp;should&nbsp;refer&nbsp;to&nbsp;the&nbsp;script&nbsp;file&nbsp;to&nbsp;be</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_359">359-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;executable&nbsp;hosting&nbsp;the&nbsp;Python&nbsp;interpreter.&nbsp;&nbsp;If&nbsp;there&nbsp;isn't&nbsp;a&nbsp;script&nbsp;that&nbsp;will&nbsp;be</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_359">359+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;executed&nbsp;rather&nbsp;than&nbsp;the&nbsp;executable&nbsp;hosting&nbsp;the&nbsp;Python&nbsp;interpreter.&nbsp;&nbsp;If&nbsp;there</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_360">360-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;run,&nbsp;the&nbsp;first&nbsp;entry&nbsp;in&nbsp;*argv*&nbsp;can&nbsp;be&nbsp;an&nbsp;empty&nbsp;string.&nbsp;&nbsp;If&nbsp;this&nbsp;function&nbsp;fails</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_360">360+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;isn't&nbsp;a&nbsp;script&nbsp;that&nbsp;will&nbsp;be&nbsp;run,&nbsp;the&nbsp;first&nbsp;entry&nbsp;in&nbsp;*argv*&nbsp;can&nbsp;be&nbsp;an&nbsp;empty</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_361">361-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;to&nbsp;initialize&nbsp;``sys.argv``,&nbsp;a&nbsp;fatal&nbsp;condition&nbsp;is&nbsp;signalled&nbsp;using</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_361">361+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;string.&nbsp;&nbsp;If&nbsp;this&nbsp;function&nbsp;fails&nbsp;to&nbsp;initialize&nbsp;:data:`sys.argv`,&nbsp;a&nbsp;fatal</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__1"></td><td class="diff_header" id="from5_362">362-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;:cfunc:`Py_FatalError`.</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__1"></td><td class="diff_header" id="to5_362">362+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;condition&nbsp;is&nbsp;signalled&nbsp;using&nbsp;:cfunc:`Py_FatalError`.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_363">363+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_364">364+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;also&nbsp;prepends&nbsp;the&nbsp;executed&nbsp;script's&nbsp;path&nbsp;to&nbsp;:data:`sys.path`.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_365">365+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;If&nbsp;no&nbsp;script&nbsp;is&nbsp;executed&nbsp;(in&nbsp;the&nbsp;case&nbsp;of&nbsp;calling&nbsp;``python&nbsp;-c``&nbsp;or&nbsp;just&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_366">366+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;interactive&nbsp;interpreter),&nbsp;the&nbsp;empty&nbsp;string&nbsp;is&nbsp;used&nbsp;instead.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_363">363</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_364">364</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;XXX&nbsp;impl.&nbsp;doesn't&nbsp;seem&nbsp;consistent&nbsp;in&nbsp;allowing&nbsp;0/NULL&nbsp;for&nbsp;the&nbsp;params;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_365">365</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check&nbsp;w/&nbsp;Guido.</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__2">n</a></td><td class="diff_header" id="to5_370">370+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_371">371+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_372">372+</td><td nowrap="nowrap"><span class="diff_add">..&nbsp;cfunction::&nbsp;void&nbsp;Py_SetPythonHome(char&nbsp;*home)</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_373">373+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_374">374+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;Set&nbsp;the&nbsp;default&nbsp;"home"&nbsp;directory,&nbsp;that&nbsp;is,&nbsp;the&nbsp;location&nbsp;of&nbsp;the&nbsp;standard</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_375">375+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;Python&nbsp;libraries.&nbsp;&nbsp;The&nbsp;libraries&nbsp;are&nbsp;searched&nbsp;in</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_376">376+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;:file:`{home}/lib/python{version}`&nbsp;and&nbsp;:file:`{home}/lib/python{version}`.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_377">377+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_378">378+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_379">379+</td><td nowrap="nowrap"><span class="diff_add">..&nbsp;cfunction::&nbsp;char*&nbsp;Py_GetPythonHome()</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_380">380+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_381">381+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;Return&nbsp;the&nbsp;default&nbsp;"home",&nbsp;that&nbsp;is,&nbsp;the&nbsp;value&nbsp;set&nbsp;by&nbsp;a&nbsp;previous&nbsp;call&nbsp;to</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_382">382+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;:cfunc:`Py_SetPythonHome`,&nbsp;or&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;:envvar:`PYTHONHOME`</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_383">383+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;environment&nbsp;variable&nbsp;if&nbsp;it&nbsp;is&nbsp;set.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_366">366</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_367">367</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_368">368</td><td nowrap="nowrap">..&nbsp;_threads:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_369">369</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_370">370</td><td nowrap="nowrap">Thread&nbsp;State&nbsp;and&nbsp;the&nbsp;Global&nbsp;Interpreter&nbsp;Lock</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__2"></td><td class="diff_header" id="from5_371">371</td><td nowrap="nowrap">============================================</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_372">372</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_373">373</td><td nowrap="nowrap">..&nbsp;index::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_374">374</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;global&nbsp;interpreter&nbsp;lock</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_375">375</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;interpreter&nbsp;lock</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_376">376</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;lock,&nbsp;interpreter</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_377">377</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_378">378</td><td nowrap="nowrap">The&nbsp;Python&nbsp;interpreter&nbsp;is&nbsp;not&nbsp;fully&nbsp;thread&nbsp;safe.&nbsp;&nbsp;In&nbsp;order&nbsp;to&nbsp;support</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__3">n</a></td><td class="diff_header" id="from5_379">379-</td><td nowrap="nowrap">multi-threaded&nbsp;Python&nbsp;programs,&nbsp;there's&nbsp;a&nbsp;global&nbsp;lock<span class="diff_chg">&nbsp;th</span>a<span class="diff_chg">t&nbsp;must&nbsp;b</span>e<span class="diff_sub">&nbsp;hel</span>d<span class="diff_sub">&nbsp;by</span>&nbsp;the</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__3">n</a></td><td class="diff_header" id="to5_397">397+</td><td nowrap="nowrap">multi-threaded&nbsp;Python&nbsp;programs,&nbsp;there's&nbsp;a&nbsp;global&nbsp;lock<span class="diff_chg">,&nbsp;c</span>a<span class="diff_chg">ll</span>ed&nbsp;the<span class="diff_add">&nbsp;:dfn:`global</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_380">380-</td><td nowrap="nowrap"><span class="diff_sub">current&nbsp;thread&nbsp;before&nbsp;it&nbsp;can&nbsp;safely&nbsp;access&nbsp;Python&nbsp;objects.&nbsp;Without&nbsp;the&nbsp;lock,</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_398">398+</td><td nowrap="nowrap"><span class="diff_add">interpreter&nbsp;lock`&nbsp;or&nbsp;:dfn:`GIL`,&nbsp;that&nbsp;must&nbsp;be&nbsp;held&nbsp;by&nbsp;the&nbsp;current&nbsp;thread&nbsp;before</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_399">399+</td><td nowrap="nowrap"><span class="diff_add">it&nbsp;can&nbsp;safely&nbsp;access&nbsp;Python&nbsp;objects.&nbsp;Without&nbsp;the&nbsp;lock,&nbsp;even&nbsp;the&nbsp;simplest</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_381">381-</td><td nowrap="nowrap"><span class="diff_sub">even&nbsp;the&nbsp;simplest&nbsp;</span>operations&nbsp;could&nbsp;cause&nbsp;problems&nbsp;in&nbsp;a&nbsp;multi-threaded&nbsp;program:</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_400">400+</td><td nowrap="nowrap">operations&nbsp;could&nbsp;cause&nbsp;problems&nbsp;in&nbsp;a&nbsp;multi-threaded&nbsp;program:<span class="diff_add">&nbsp;for&nbsp;example,&nbsp;when</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_382">382-</td><td nowrap="nowrap"><span class="diff_sub">for&nbsp;example,&nbsp;when&nbsp;</span>two&nbsp;threads&nbsp;simultaneously&nbsp;increment&nbsp;the&nbsp;reference&nbsp;count&nbsp;of</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_401">401+</td><td nowrap="nowrap">two&nbsp;threads&nbsp;simultaneously&nbsp;increment&nbsp;the&nbsp;reference&nbsp;count&nbsp;of<span class="diff_add">&nbsp;the&nbsp;same&nbsp;object,&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_383">383-</td><td nowrap="nowrap"><span class="diff_sub">the&nbsp;same&nbsp;object,&nbsp;the&nbsp;reference&nbsp;count&nbsp;could&nbsp;end&nbsp;up&nbsp;being&nbsp;incremented&nbsp;only&nbsp;once</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_402">402+</td><td nowrap="nowrap"><span class="diff_add">reference&nbsp;count&nbsp;could&nbsp;end&nbsp;up&nbsp;being&nbsp;incremented&nbsp;only&nbsp;once&nbsp;instead&nbsp;of&nbsp;twice.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_384">384-</td><td nowrap="nowrap"><span class="diff_sub">instead&nbsp;of&nbsp;twice.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_385">385</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_386">386</td><td nowrap="nowrap">..&nbsp;index::&nbsp;single:&nbsp;setcheckinterval()&nbsp;(in&nbsp;module&nbsp;sys)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_387">387</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_388">388</td><td nowrap="nowrap">Therefore,&nbsp;the&nbsp;rule&nbsp;exists&nbsp;that&nbsp;only&nbsp;the&nbsp;thread&nbsp;that&nbsp;has&nbsp;acquired&nbsp;the&nbsp;global</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_389">389</td><td nowrap="nowrap">interpreter&nbsp;lock&nbsp;may&nbsp;operate&nbsp;on&nbsp;Python&nbsp;objects&nbsp;or&nbsp;call&nbsp;Python/C&nbsp;API&nbsp;functions.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_390">390</td><td nowrap="nowrap">In&nbsp;order&nbsp;to&nbsp;support&nbsp;multi-threaded&nbsp;Python&nbsp;programs,&nbsp;the&nbsp;interpreter&nbsp;regularly</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_391">391</td><td nowrap="nowrap">releases&nbsp;and&nbsp;reacquires&nbsp;the&nbsp;lock&nbsp;---&nbsp;by&nbsp;default,&nbsp;every&nbsp;100&nbsp;bytecode&nbsp;instructions</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_392">392</td><td nowrap="nowrap">(this&nbsp;can&nbsp;be&nbsp;changed&nbsp;with&nbsp;&nbsp;:func:`sys.setcheckinterval`).&nbsp;&nbsp;The&nbsp;lock&nbsp;is&nbsp;also</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__3"></td><td class="diff_header" id="from5_405">405</td><td nowrap="nowrap">store&nbsp;"per-thread&nbsp;global&nbsp;data,"&nbsp;Python's&nbsp;internal&nbsp;platform&nbsp;independent&nbsp;thread</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_406">406</td><td nowrap="nowrap">abstraction&nbsp;doesn't&nbsp;support&nbsp;this&nbsp;yet.&nbsp;&nbsp;Therefore,&nbsp;the&nbsp;current&nbsp;thread&nbsp;state&nbsp;must</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__4"></td><td class="diff_header" id="from5_407">407</td><td nowrap="nowrap">be&nbsp;manipulated&nbsp;explicitly.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_408">408</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_409">409</td><td nowrap="nowrap">This&nbsp;is&nbsp;easy&nbsp;enough&nbsp;in&nbsp;most&nbsp;cases.&nbsp;&nbsp;Most&nbsp;code&nbsp;manipulating&nbsp;the&nbsp;global</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_410">410</td><td nowrap="nowrap">interpreter&nbsp;lock&nbsp;has&nbsp;the&nbsp;following&nbsp;simple&nbsp;structure::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_411">411</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_412">412</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Save&nbsp;the&nbsp;thread&nbsp;state&nbsp;in&nbsp;a&nbsp;local&nbsp;variable.</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__4">n</a></td><td class="diff_header" id="from5_413">413-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Release&nbsp;the&nbsp;interpreter&nbsp;lock.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__4">n</a></td><td class="diff_header" id="to5_431">431+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Release&nbsp;the<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_414">414</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;...Do&nbsp;some&nbsp;blocking&nbsp;I/O&nbsp;operation...</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__5">n</a></td><td class="diff_header" id="from5_415">415-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reacquire&nbsp;the&nbsp;interpreter&nbsp;lock.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__5">n</a></td><td class="diff_header" id="to5_433">433+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reacquire&nbsp;the<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_416">416</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Restore&nbsp;the&nbsp;thread&nbsp;state&nbsp;from&nbsp;the&nbsp;local&nbsp;variable.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_417">417</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_418">418</td><td nowrap="nowrap">This&nbsp;is&nbsp;so&nbsp;common&nbsp;that&nbsp;a&nbsp;pair&nbsp;of&nbsp;macros&nbsp;exists&nbsp;to&nbsp;simplify&nbsp;it::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_419">419</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_420">420</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Py_BEGIN_ALLOW_THREADS</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_421">421</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;...Do&nbsp;some&nbsp;blocking&nbsp;I/O&nbsp;operation...</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_422">422</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Py_END_ALLOW_THREADS</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_423">423</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__5"></td><td class="diff_header" id="from5_424">424</td><td nowrap="nowrap">..&nbsp;index::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_425">425</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;Py_BEGIN_ALLOW_THREADS</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_426">426</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;Py_END_ALLOW_THREADS</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_427">427</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_428">428</td><td nowrap="nowrap">The&nbsp;:cmacro:`Py_BEGIN_ALLOW_THREADS`&nbsp;macro&nbsp;opens&nbsp;a&nbsp;new&nbsp;block&nbsp;and&nbsp;declares&nbsp;a</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_429">429</td><td nowrap="nowrap">hidden&nbsp;local&nbsp;variable;&nbsp;the&nbsp;:cmacro:`Py_END_ALLOW_THREADS`&nbsp;macro&nbsp;closes&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_430">430</td><td nowrap="nowrap">block.&nbsp;&nbsp;Another&nbsp;advantage&nbsp;of&nbsp;using&nbsp;these&nbsp;two&nbsp;macros&nbsp;is&nbsp;that&nbsp;when&nbsp;Python&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_431">431</td><td nowrap="nowrap">compiled&nbsp;without&nbsp;thread&nbsp;support,&nbsp;they&nbsp;are&nbsp;defined&nbsp;empty,&nbsp;thus&nbsp;saving&nbsp;the&nbsp;thread</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__6">n</a></td><td class="diff_header" id="from5_432">432-</td><td nowrap="nowrap">state&nbsp;and&nbsp;<span class="diff_chg">lock</span>&nbsp;manipulations.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__6">n</a></td><td class="diff_header" id="to5_450">450+</td><td nowrap="nowrap">state&nbsp;and&nbsp;<span class="diff_chg">GIL</span>&nbsp;manipulations.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_433">433</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_434">434</td><td nowrap="nowrap">When&nbsp;thread&nbsp;support&nbsp;is&nbsp;enabled,&nbsp;the&nbsp;block&nbsp;above&nbsp;expands&nbsp;to&nbsp;the&nbsp;following&nbsp;code::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_435">435</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_436">436</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;PyThreadState&nbsp;*_save;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_437">437</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_438">438</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;_save&nbsp;=&nbsp;PyEval_SaveThread();</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_439">439</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;...Do&nbsp;some&nbsp;blocking&nbsp;I/O&nbsp;operation...</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_440">440</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;PyEval_RestoreThread(_save);</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__6"></td><td class="diff_header" id="from5_456">456</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;PyEval_SaveThread()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_457">457</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;PyEval_ReleaseLock()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_458">458</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;single:&nbsp;PyEval_AcquireLock()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_459">459</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_460">460</td><td nowrap="nowrap">There&nbsp;are&nbsp;some&nbsp;subtle&nbsp;differences;&nbsp;in&nbsp;particular,&nbsp;:cfunc:`PyEval_RestoreThread`</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_461">461</td><td nowrap="nowrap">saves&nbsp;and&nbsp;restores&nbsp;the&nbsp;value&nbsp;of&nbsp;the&nbsp;&nbsp;global&nbsp;variable&nbsp;:cdata:`errno`,&nbsp;since&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_462">462</td><td nowrap="nowrap">lock&nbsp;manipulation&nbsp;does&nbsp;not&nbsp;guarantee&nbsp;that&nbsp;:cdata:`errno`&nbsp;is&nbsp;left&nbsp;alone.&nbsp;&nbsp;Also,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_463">463</td><td nowrap="nowrap">when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled,&nbsp;:cfunc:`PyEval_SaveThread`&nbsp;and</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__7">n</a></td><td class="diff_header" id="from5_464">464-</td><td nowrap="nowrap">:cfunc:`PyEval_RestoreThread`&nbsp;don't&nbsp;manipulate&nbsp;the&nbsp;<span class="diff_chg">lock</span>;&nbsp;in&nbsp;this&nbsp;case,</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__7">n</a></td><td class="diff_header" id="to5_482">482+</td><td nowrap="nowrap">:cfunc:`PyEval_RestoreThread`&nbsp;don't&nbsp;manipulate&nbsp;the&nbsp;<span class="diff_chg">GIL</span>;&nbsp;in&nbsp;this&nbsp;case,</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_465">465</td><td nowrap="nowrap">:cfunc:`PyEval_ReleaseLock`&nbsp;and&nbsp;:cfunc:`PyEval_AcquireLock`&nbsp;are&nbsp;not&nbsp;available.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_466">466</td><td nowrap="nowrap">This&nbsp;is&nbsp;done&nbsp;so&nbsp;that&nbsp;dynamically&nbsp;loaded&nbsp;extensions&nbsp;compiled&nbsp;with&nbsp;thread&nbsp;support</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_467">467</td><td nowrap="nowrap">enabled&nbsp;can&nbsp;be&nbsp;loaded&nbsp;by&nbsp;an&nbsp;interpreter&nbsp;that&nbsp;was&nbsp;compiled&nbsp;with&nbsp;disabled&nbsp;thread</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_468">468</td><td nowrap="nowrap">support.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_469">469</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_470">470</td><td nowrap="nowrap">The&nbsp;global&nbsp;interpreter&nbsp;lock&nbsp;is&nbsp;used&nbsp;to&nbsp;protect&nbsp;the&nbsp;pointer&nbsp;to&nbsp;the&nbsp;current&nbsp;thread</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_471">471</td><td nowrap="nowrap">state.&nbsp;&nbsp;When&nbsp;releasing&nbsp;the&nbsp;lock&nbsp;and&nbsp;saving&nbsp;the&nbsp;thread&nbsp;state,&nbsp;the&nbsp;current&nbsp;thread</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_472">472</td><td nowrap="nowrap">state&nbsp;pointer&nbsp;must&nbsp;be&nbsp;retrieved&nbsp;before&nbsp;the&nbsp;lock&nbsp;is&nbsp;released&nbsp;(since&nbsp;another</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__7"></td><td class="diff_header" id="from5_539">539</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_540">540</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;index::&nbsp;single:&nbsp;Py_Initialize()</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__8"></td><td class="diff_header" id="from5_541">541</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_542">542</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;This&nbsp;is&nbsp;a&nbsp;no-op&nbsp;when&nbsp;called&nbsp;for&nbsp;a&nbsp;second&nbsp;time.&nbsp;&nbsp;It&nbsp;is&nbsp;safe&nbsp;to&nbsp;call&nbsp;this&nbsp;function</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_543">543</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;before&nbsp;calling&nbsp;:cfunc:`Py_Initialize`.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_544">544</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_545">545</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;index::&nbsp;module:&nbsp;thread</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_546">546</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__8">n</a></td><td class="diff_header" id="from5_547">547-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;When&nbsp;only&nbsp;the&nbsp;main&nbsp;thread&nbsp;exists,&nbsp;no&nbsp;<span class="diff_chg">lock</span>&nbsp;operations&nbsp;are&nbsp;needed.&nbsp;This&nbsp;is&nbsp;a</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__8">n</a></td><td class="diff_header" id="to5_565">565+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;When&nbsp;only&nbsp;the&nbsp;main&nbsp;thread&nbsp;exists,&nbsp;no&nbsp;<span class="diff_chg">GIL</span>&nbsp;operations&nbsp;are&nbsp;needed.&nbsp;This&nbsp;is&nbsp;a</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_548">548</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;common&nbsp;situation&nbsp;(most&nbsp;Python&nbsp;programs&nbsp;do&nbsp;not&nbsp;use&nbsp;threads),&nbsp;and&nbsp;the&nbsp;lock</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__9">n</a></td><td class="diff_header" id="from5_549">549-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;operations&nbsp;slow&nbsp;the&nbsp;interpreter&nbsp;down&nbsp;a&nbsp;bit.&nbsp;Therefore,&nbsp;the&nbsp;lock&nbsp;is&nbsp;not<span class="diff_sub">&nbsp;created</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__9">n</a></td><td class="diff_header" id="to5_567">567+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;operations&nbsp;slow&nbsp;the&nbsp;interpreter&nbsp;down&nbsp;a&nbsp;bit.&nbsp;Therefore,&nbsp;the&nbsp;lock&nbsp;is&nbsp;not</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_550">550-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;initially.&nbsp;&nbsp;This&nbsp;situation&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;having&nbsp;acquired&nbsp;the&nbsp;lock:<span class="diff_sub">&nbsp;&nbsp;when</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_568">568+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;created</span>&nbsp;initially.&nbsp;&nbsp;This&nbsp;situation&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;having&nbsp;acquired&nbsp;the&nbsp;lock:</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_551">551-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;only&nbsp;a&nbsp;single&nbsp;thread,&nbsp;all&nbsp;object&nbsp;accesses&nbsp;are&nbsp;safe.&nbsp;&nbsp;Therefore,<span class="diff_sub">&nbsp;when</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_569">569+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;when</span>&nbsp;there&nbsp;is&nbsp;only&nbsp;a&nbsp;single&nbsp;thread,&nbsp;all&nbsp;object&nbsp;accesses&nbsp;are&nbsp;safe.&nbsp;&nbsp;Therefore,</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_552">552-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;this&nbsp;function&nbsp;initializes&nbsp;the&nbsp;lock,&nbsp;it&nbsp;also&nbsp;acquires&nbsp;it.&nbsp;&nbsp;Before&nbsp;the&nbsp;Python</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_570">570+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;when&nbsp;this&nbsp;function&nbsp;initializes&nbsp;the&nbsp;global&nbsp;interpreter&nbsp;lock,&nbsp;it&nbsp;also&nbsp;acquires</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_553">553-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;:mod:`thread`&nbsp;module&nbsp;creates&nbsp;a&nbsp;new&nbsp;thread,&nbsp;knowing&nbsp;that&nbsp;either&nbsp;it&nbsp;has&nbsp;the&nbsp;lock</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_571">571+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;it.&nbsp;&nbsp;Before&nbsp;the&nbsp;Python&nbsp;:mod:`thread`&nbsp;module&nbsp;creates&nbsp;a&nbsp;new&nbsp;thread,&nbsp;knowing</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_554">554-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;or&nbsp;the&nbsp;lock&nbsp;hasn't&nbsp;been&nbsp;created&nbsp;yet,&nbsp;it&nbsp;calls&nbsp;:cfunc:`PyEval_InitThreads`.&nbsp;&nbsp;When</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_572">572+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;that&nbsp;either&nbsp;it&nbsp;has&nbsp;the&nbsp;lock&nbsp;or&nbsp;the&nbsp;lock&nbsp;hasn't&nbsp;been&nbsp;created&nbsp;yet,&nbsp;it&nbsp;calls</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_555">555-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;this&nbsp;call&nbsp;returns,&nbsp;it&nbsp;is&nbsp;guaranteed&nbsp;that&nbsp;the&nbsp;lock&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;that&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_573">573+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;:cfunc:`PyEval_InitThreads`.&nbsp;&nbsp;When&nbsp;this&nbsp;call&nbsp;returns,&nbsp;it&nbsp;is&nbsp;guaranteed&nbsp;that</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_556">556-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;calling&nbsp;thread&nbsp;has&nbsp;acquired&nbsp;it.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_574">574+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;the&nbsp;lock&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;that&nbsp;the&nbsp;calling&nbsp;thread&nbsp;has&nbsp;acquired&nbsp;it.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_557">557</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_558">558</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;**not**&nbsp;safe&nbsp;to&nbsp;call&nbsp;this&nbsp;function&nbsp;when&nbsp;it&nbsp;is&nbsp;unknown&nbsp;which&nbsp;thread&nbsp;(if</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__9"></td><td class="diff_header" id="from5_559">559</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;any)&nbsp;currently&nbsp;has&nbsp;the&nbsp;global&nbsp;interpreter&nbsp;lock.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_560">560</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_561">561</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;is&nbsp;not&nbsp;available&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_562">562</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_563">563</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_564">564</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;int&nbsp;PyEval_ThreadsInitialized()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_565">565</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_566">566</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Returns&nbsp;a&nbsp;non-zero&nbsp;value&nbsp;if&nbsp;:cfunc:`PyEval_InitThreads`&nbsp;has&nbsp;been&nbsp;called.&nbsp;&nbsp;This</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__10">n</a></td><td class="diff_header" id="from5_567">567-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;function&nbsp;can&nbsp;be&nbsp;called&nbsp;without&nbsp;holding&nbsp;the&nbsp;<span class="diff_chg">lock</span>,&nbsp;and&nbsp;therefore&nbsp;can&nbsp;be&nbsp;used&nbsp;to</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__10">n</a></td><td class="diff_header" id="to5_585">585+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;function&nbsp;can&nbsp;be&nbsp;called&nbsp;without&nbsp;holding&nbsp;the&nbsp;<span class="diff_chg">GIL</span>,&nbsp;and&nbsp;therefore&nbsp;can&nbsp;be&nbsp;used&nbsp;to</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_568">568</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;avoid&nbsp;calls&nbsp;to&nbsp;the&nbsp;locking&nbsp;API&nbsp;when&nbsp;running&nbsp;single-threaded.&nbsp;&nbsp;This&nbsp;function&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_569">569</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;not&nbsp;available&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_570">570</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_571">571</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;versionadded::&nbsp;2.4</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_572">572</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_573">573</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_574">574</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyEval_AcquireLock()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_575">575</td><td nowrap="nowrap"></td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__10"></td><td class="diff_header" id="from5_599">599</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;thread.&nbsp;&nbsp;The&nbsp;*tstate*&nbsp;argument,&nbsp;which&nbsp;must&nbsp;not&nbsp;be&nbsp;*NULL*,&nbsp;is&nbsp;only&nbsp;used&nbsp;to&nbsp;check</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_600">600</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;that&nbsp;it&nbsp;represents&nbsp;the&nbsp;current&nbsp;thread&nbsp;state&nbsp;---&nbsp;if&nbsp;it&nbsp;isn't,&nbsp;a&nbsp;fatal&nbsp;error&nbsp;is</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_601">601</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;reported.&nbsp;This&nbsp;function&nbsp;is&nbsp;not&nbsp;available&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_602">602</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;compile&nbsp;time.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_603">603</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_604">604</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_605">605</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyThreadState*&nbsp;PyEval_SaveThread()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_606">606</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__11">n</a></td><td class="diff_header" id="from5_607">607-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Release&nbsp;the&nbsp;interpreter&nbsp;lock&nbsp;(if&nbsp;it&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;thread<span class="diff_sub">&nbsp;support&nbsp;is</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__11">n</a></td><td class="diff_header" id="to5_625">625+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Release&nbsp;the<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;(if&nbsp;it&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;thread</td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__11"></td><td class="diff_header" id="from5_608">608-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;enabled)&nbsp;and&nbsp;reset&nbsp;the&nbsp;thread&nbsp;state&nbsp;to&nbsp;*NULL*,&nbsp;returning&nbsp;the<span class="diff_sub">&nbsp;previous&nbsp;thread</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__11"></td><td class="diff_header" id="to5_626">626+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;support&nbsp;is</span>&nbsp;enabled)&nbsp;and&nbsp;reset&nbsp;the&nbsp;thread&nbsp;state&nbsp;to&nbsp;*NULL*,&nbsp;returning&nbsp;the</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_609">609-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;state&nbsp;(which&nbsp;is&nbsp;not&nbsp;*NULL*).&nbsp;&nbsp;If&nbsp;the&nbsp;lock&nbsp;has&nbsp;been&nbsp;created,<span class="diff_sub">&nbsp;the&nbsp;current&nbsp;thread</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_627">627+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;previous&nbsp;thread</span>&nbsp;state&nbsp;(which&nbsp;is&nbsp;not&nbsp;*NULL*).&nbsp;&nbsp;If&nbsp;the&nbsp;lock&nbsp;has&nbsp;been&nbsp;created,</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_610">610-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;must&nbsp;have&nbsp;acquired&nbsp;it.&nbsp;&nbsp;(This&nbsp;function&nbsp;is&nbsp;available&nbsp;even&nbsp;when&nbsp;thread&nbsp;support&nbsp;is</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_628">628+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;thread&nbsp;must&nbsp;have&nbsp;acquired&nbsp;it.&nbsp;&nbsp;(This&nbsp;function&nbsp;is&nbsp;available&nbsp;even</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_611">611-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.)</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_629">629+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_612">612</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_613">613</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_614">614</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyEval_RestoreThread(PyThreadState&nbsp;*tstate)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_615">615</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__12">n</a></td><td class="diff_header" id="from5_616">616-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Acquire&nbsp;the&nbsp;interpreter&nbsp;lock&nbsp;(if&nbsp;it&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;thread<span class="diff_sub">&nbsp;support&nbsp;is</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__12">n</a></td><td class="diff_header" id="to5_634">634+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Acquire&nbsp;the<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;(if&nbsp;it&nbsp;has&nbsp;been&nbsp;created&nbsp;and&nbsp;thread</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_617">617-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;enabled)&nbsp;and&nbsp;set&nbsp;the&nbsp;thread&nbsp;state&nbsp;to&nbsp;*tstate*,&nbsp;which&nbsp;must&nbsp;not&nbsp;be<span class="diff_sub">&nbsp;*NULL*.&nbsp;&nbsp;If&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_635">635+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;support&nbsp;is</span>&nbsp;enabled)&nbsp;and&nbsp;set&nbsp;the&nbsp;thread&nbsp;state&nbsp;to&nbsp;*tstate*,&nbsp;which&nbsp;must&nbsp;not&nbsp;be</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_618">618-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;lock&nbsp;has&nbsp;been&nbsp;created,&nbsp;the&nbsp;current&nbsp;thread&nbsp;must&nbsp;not&nbsp;have&nbsp;acquired&nbsp;it,&nbsp;otherwise</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_636">636+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;*NULL*.&nbsp;&nbsp;If&nbsp;the&nbsp;lock&nbsp;has&nbsp;been&nbsp;created,&nbsp;the&nbsp;current&nbsp;thread&nbsp;must&nbsp;not&nbsp;have</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_619">619-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;deadlock&nbsp;ensues.&nbsp;&nbsp;(This&nbsp;function&nbsp;is&nbsp;available&nbsp;even&nbsp;when&nbsp;thread&nbsp;support&nbsp;is</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_637">637+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;acquired&nbsp;it,&nbsp;otherwise&nbsp;deadlock&nbsp;ensues.&nbsp;&nbsp;(This&nbsp;function&nbsp;is&nbsp;available&nbsp;even</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_620">620-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.)</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_638">638+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.)</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_621">621</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_622">622</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_623">623</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyEval_ReInitThreads()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_624">624</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_625">625</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;is&nbsp;called&nbsp;from&nbsp;:cfunc:`PyOS_AfterFork`&nbsp;to&nbsp;ensure&nbsp;that&nbsp;newly</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_626">626</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;created&nbsp;child&nbsp;processes&nbsp;don't&nbsp;hold&nbsp;locks&nbsp;referring&nbsp;to&nbsp;threads&nbsp;which</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_627">627</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;are&nbsp;not&nbsp;running&nbsp;in&nbsp;the&nbsp;child&nbsp;process.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_628">628</td><td nowrap="nowrap"></td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__12"></td><td class="diff_header" id="from5_656">656</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_657">657</td><td nowrap="nowrap">..&nbsp;cmacro::&nbsp;Py_UNBLOCK_THREADS</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_658">658</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_659">659</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;This&nbsp;macro&nbsp;expands&nbsp;to&nbsp;``_save&nbsp;=&nbsp;PyEval_SaveThread();``:&nbsp;it&nbsp;is&nbsp;equivalent&nbsp;to</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_660">660</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cmacro:`Py_BEGIN_ALLOW_THREADS`&nbsp;without&nbsp;the&nbsp;opening&nbsp;brace&nbsp;and&nbsp;variable</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_661">661</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;declaration.&nbsp;&nbsp;It&nbsp;is&nbsp;a&nbsp;no-op&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;disabled&nbsp;at&nbsp;compile&nbsp;time.</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__13"></td><td class="diff_header" id="from5_662">662</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_663">663</td><td nowrap="nowrap">All&nbsp;of&nbsp;the&nbsp;following&nbsp;functions&nbsp;are&nbsp;only&nbsp;available&nbsp;when&nbsp;thread&nbsp;support&nbsp;is&nbsp;enabled</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__13">n</a></td><td class="diff_header" id="from5_664">664-</td><td nowrap="nowrap">at&nbsp;compile&nbsp;time,&nbsp;and&nbsp;must&nbsp;be&nbsp;called&nbsp;only&nbsp;when&nbsp;the&nbsp;interpreter&nbsp;lock&nbsp;has<span class="diff_sub">&nbsp;been</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__13">n</a></td><td class="diff_header" id="to5_682">682+</td><td nowrap="nowrap">at&nbsp;compile&nbsp;time,&nbsp;and&nbsp;must&nbsp;be&nbsp;called&nbsp;only&nbsp;when&nbsp;the<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;has</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_665">665-</td><td nowrap="nowrap">created.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_683">683+</td><td nowrap="nowrap"><span class="diff_add">been&nbsp;</span>created.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_666">666</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_667">667</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_668">668</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyInterpreterState*&nbsp;PyInterpreterState_New()</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__14"></td><td class="diff_header" id="from5_669">669</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__14">n</a></td><td class="diff_header" id="from5_670">670-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not<span class="diff_sub">&nbsp;be&nbsp;held,</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__14">n</a></td><td class="diff_header" id="to5_688">688+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_671">671-</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_sub">&nbsp;but&nbsp;may</span>&nbsp;be&nbsp;held&nbsp;if&nbsp;it&nbsp;is&nbsp;necessary&nbsp;to&nbsp;serialize&nbsp;calls&nbsp;to&nbsp;this<span class="diff_sub">&nbsp;function.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_689">689+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;be&nbsp;held<span class="diff_add">,&nbsp;but&nbsp;may&nbsp;be&nbsp;held</span>&nbsp;if&nbsp;it&nbsp;is&nbsp;necessary&nbsp;to&nbsp;serialize&nbsp;calls&nbsp;to&nbsp;this</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_690">690+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;function.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_672">672</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_673">673</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__15"></td><td class="diff_header" id="from5_674">674</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyInterpreterState_Clear(PyInterpreterState&nbsp;*interp)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_675">675</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__15">n</a></td><td class="diff_header" id="from5_676">676-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reset&nbsp;all&nbsp;information&nbsp;in&nbsp;an&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The&nbsp;interpreter<span class="diff_sub">&nbsp;lock&nbsp;must</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__15">n</a></td><td class="diff_header" id="to5_695">695+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reset&nbsp;all&nbsp;information&nbsp;in&nbsp;an&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_677">677-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;be&nbsp;held.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_696">696+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;lock&nbsp;must&nbsp;be&nbsp;held.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_678">678</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_679">679</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_680">680</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyInterpreterState_Delete(PyInterpreterState&nbsp;*interp)</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__16"></td><td class="diff_header" id="from5_681">681</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__16">n</a></td><td class="diff_header" id="from5_682">682-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Destroy&nbsp;an&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be<span class="diff_sub">&nbsp;held.</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__16">n</a></td><td class="diff_header" id="to5_701">701+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Destroy&nbsp;an&nbsp;interpreter&nbsp;state&nbsp;object.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_683">683-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;The&nbsp;interpreter&nbsp;state&nbsp;must&nbsp;have&nbsp;been&nbsp;reset&nbsp;with&nbsp;a&nbsp;previous&nbsp;call&nbsp;to</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_702">702+</td><td nowrap="nowrap">&nbsp;<span class="diff_add">&nbsp;&nbsp;held.</span>&nbsp;&nbsp;The&nbsp;interpreter&nbsp;state&nbsp;must&nbsp;have&nbsp;been&nbsp;reset&nbsp;with&nbsp;a&nbsp;previous&nbsp;call&nbsp;to</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_684">684</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyInterpreterState_Clear`.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_685">685</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_686">686</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_687">687</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyThreadState*&nbsp;PyThreadState_New(PyInterpreterState&nbsp;*interp)</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__17"></td><td class="diff_header" id="from5_688">688</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__17">n</a></td><td class="diff_header" id="from5_689">689-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;thread&nbsp;state&nbsp;object&nbsp;belonging&nbsp;to&nbsp;the&nbsp;given&nbsp;interpreter&nbsp;object.<span class="diff_sub">&nbsp;&nbsp;The</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__17">n</a></td><td class="diff_header" id="to5_708">708+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;new&nbsp;thread&nbsp;state&nbsp;object&nbsp;belonging&nbsp;to&nbsp;the&nbsp;given&nbsp;interpreter&nbsp;object.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_690">690-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be&nbsp;held,&nbsp;but&nbsp;may&nbsp;be&nbsp;held&nbsp;if&nbsp;it&nbsp;is<span class="diff_sub">&nbsp;necessary&nbsp;to</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_709">709+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;The&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be&nbsp;held,&nbsp;but&nbsp;may&nbsp;be&nbsp;held&nbsp;if&nbsp;it&nbsp;is</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_691">691-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;serialize&nbsp;calls&nbsp;to&nbsp;this&nbsp;function.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_710">710+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;necessary&nbsp;to</span>&nbsp;serialize&nbsp;calls&nbsp;to&nbsp;this&nbsp;function.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_692">692</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_693">693</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__18"></td><td class="diff_header" id="from5_694">694</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyThreadState_Clear(PyThreadState&nbsp;*tstate)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_695">695</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__18">n</a></td><td class="diff_header" id="from5_696">696-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reset&nbsp;all&nbsp;information&nbsp;in&nbsp;a&nbsp;thread&nbsp;state&nbsp;object.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock<span class="diff_sub">&nbsp;must&nbsp;be</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__18">n</a></td><td class="diff_header" id="to5_715">715+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Reset&nbsp;all&nbsp;information&nbsp;in&nbsp;a&nbsp;thread&nbsp;state&nbsp;object.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_697">697-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;held.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_716">716+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;must&nbsp;be&nbsp;held.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_698">698</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_699">699</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_700">700</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyThreadState_Delete(PyThreadState&nbsp;*tstate)</td></tr>            <tr><td class="diff_next" id="difflib_chg_to5__19"></td><td class="diff_header" id="from5_701">701</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__19">n</a></td><td class="diff_header" id="from5_702">702-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Destroy&nbsp;a&nbsp;thread&nbsp;state&nbsp;object.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be&nbsp;held.<span class="diff_sub">&nbsp;&nbsp;The</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__19">n</a></td><td class="diff_header" id="to5_721">721+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Destroy&nbsp;a&nbsp;thread&nbsp;state&nbsp;object.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;need&nbsp;not&nbsp;be&nbsp;held.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_703">703-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;thread&nbsp;state&nbsp;must&nbsp;have&nbsp;been&nbsp;reset&nbsp;with&nbsp;a&nbsp;previous&nbsp;call&nbsp;to</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_722">722+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;The</span>&nbsp;thread&nbsp;state&nbsp;must&nbsp;have&nbsp;been&nbsp;reset&nbsp;with&nbsp;a&nbsp;previous&nbsp;call&nbsp;to</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_704">704</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyThreadState_Clear`.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_705">705</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_706">706</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_707">707</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyThreadState*&nbsp;PyThreadState_Get()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_708">708</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next" id="difflib_chg_to5__20"><a href="#difflib_chg_to5__20">n</a></td><td class="diff_header" id="from5_709">709-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;the&nbsp;current&nbsp;thread&nbsp;state.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock&nbsp;must&nbsp;be&nbsp;held.<span class="diff_sub">&nbsp;&nbsp;When&nbsp;the</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__20"><a href="#difflib_chg_to5__20">n</a></td><td class="diff_header" id="to5_728">728+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;the&nbsp;current&nbsp;thread&nbsp;state.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;must&nbsp;be&nbsp;held.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_710">710-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;current&nbsp;thread&nbsp;state&nbsp;is&nbsp;*NULL*,&nbsp;this&nbsp;issues&nbsp;a&nbsp;fatal&nbsp;error&nbsp;(so&nbsp;that<span class="diff_sub">&nbsp;the&nbsp;caller</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_729">729+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;When&nbsp;the</span>&nbsp;current&nbsp;thread&nbsp;state&nbsp;is&nbsp;*NULL*,&nbsp;this&nbsp;issues&nbsp;a&nbsp;fatal&nbsp;error&nbsp;(so&nbsp;that</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_711">711-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;needn't&nbsp;check&nbsp;for&nbsp;*NULL*).</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_730">730+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;the&nbsp;caller</span>&nbsp;needn't&nbsp;check&nbsp;for&nbsp;*NULL*).</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_712">712</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_713">713</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_714">714</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyThreadState*&nbsp;PyThreadState_Swap(PyThreadState&nbsp;*tstate)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_715">715</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_716">716</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Swap&nbsp;the&nbsp;current&nbsp;thread&nbsp;state&nbsp;with&nbsp;the&nbsp;thread&nbsp;state&nbsp;given&nbsp;by&nbsp;the&nbsp;argument</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__21">n</a></td><td class="diff_header" id="from5_717">717-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;*tstate*,&nbsp;which&nbsp;may&nbsp;be&nbsp;*NULL*.&nbsp;&nbsp;The&nbsp;interpreter&nbsp;lock&nbsp;must&nbsp;be&nbsp;held.</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__21">n</a></td><td class="diff_header" id="to5_736">736+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;*tstate*,&nbsp;which&nbsp;may&nbsp;be&nbsp;*NULL*.&nbsp;&nbsp;The<span class="diff_add">&nbsp;global</span>&nbsp;interpreter&nbsp;lock&nbsp;must&nbsp;be&nbsp;held.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_718">718</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_719">719</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_720">720</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyObject*&nbsp;PyThreadState_GetDict()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_721">721</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_722">722</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;in&nbsp;which&nbsp;extensions&nbsp;can&nbsp;store&nbsp;thread-specific&nbsp;state</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_723">723</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;information.&nbsp;&nbsp;Each&nbsp;extension&nbsp;should&nbsp;use&nbsp;a&nbsp;unique&nbsp;key&nbsp;to&nbsp;use&nbsp;to&nbsp;store&nbsp;state&nbsp;in</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_724">724</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;the&nbsp;dictionary.&nbsp;&nbsp;It&nbsp;is&nbsp;okay&nbsp;to&nbsp;call&nbsp;this&nbsp;function&nbsp;when&nbsp;no&nbsp;current&nbsp;thread&nbsp;state</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_725">725</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;is&nbsp;available.&nbsp;If&nbsp;this&nbsp;function&nbsp;returns&nbsp;*NULL*,&nbsp;no&nbsp;exception&nbsp;has&nbsp;been&nbsp;raised&nbsp;and</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__21"></td><td class="diff_header" id="from5_740">740</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;zero&nbsp;if&nbsp;the&nbsp;thread&nbsp;id&nbsp;isn't&nbsp;found.&nbsp;&nbsp;If&nbsp;*exc*&nbsp;is&nbsp;:const:`NULL`,&nbsp;the&nbsp;pending</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_741">741</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;exception&nbsp;(if&nbsp;any)&nbsp;for&nbsp;the&nbsp;thread&nbsp;is&nbsp;cleared.&nbsp;This&nbsp;raises&nbsp;no&nbsp;exceptions.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_742">742</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_743">743</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;versionadded::&nbsp;2.3</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_744">744</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_745">745</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_746">746</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyGILState_STATE&nbsp;PyGILState_Ensure()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_747">747</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__22">n</a></td><td class="diff_header" id="from5_748">748-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Ensure&nbsp;that&nbsp;the&nbsp;current&nbsp;thread&nbsp;is&nbsp;ready&nbsp;to&nbsp;call&nbsp;the&nbsp;Python&nbsp;C&nbsp;API&nbsp;regardless<span class="diff_sub">&nbsp;of</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__22">n</a></td><td class="diff_header" id="to5_767">767+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Ensure&nbsp;that&nbsp;the&nbsp;current&nbsp;thread&nbsp;is&nbsp;ready&nbsp;to&nbsp;call&nbsp;the&nbsp;Python&nbsp;C&nbsp;API&nbsp;regardless</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_749">749-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;Python,&nbsp;or&nbsp;of&nbsp;its&nbsp;thread&nbsp;lock.&nbsp;This&nbsp;may&nbsp;be&nbsp;called&nbsp;as&nbsp;many</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_768">768+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;current&nbsp;state&nbsp;of&nbsp;Python,&nbsp;or&nbsp;of&nbsp;the&nbsp;global&nbsp;interpreter&nbsp;lock.&nbsp;This&nbsp;may</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_750">750-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;times&nbsp;as&nbsp;desired&nbsp;by&nbsp;a&nbsp;thread&nbsp;as&nbsp;long&nbsp;as&nbsp;each&nbsp;call&nbsp;is&nbsp;matched&nbsp;with&nbsp;a&nbsp;call&nbsp;to</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_769">769+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;be&nbsp;called&nbsp;as&nbsp;many&nbsp;times&nbsp;as&nbsp;desired&nbsp;by&nbsp;a&nbsp;thread&nbsp;as&nbsp;long&nbsp;as&nbsp;each&nbsp;call&nbsp;is</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__22"></td><td class="diff_header" id="from5_751">751-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_Release`.&nbsp;In&nbsp;general,&nbsp;other&nbsp;thread-related&nbsp;APIs&nbsp;may&nbsp;be&nbsp;used</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__22"></td><td class="diff_header" id="to5_770">770+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;matched&nbsp;with&nbsp;a&nbsp;call&nbsp;to&nbsp;:cfunc:`PyGILState_Release`.&nbsp;In&nbsp;general,&nbsp;other</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_752">752-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;between&nbsp;:cfunc:`PyGILState_Ensure`&nbsp;and&nbsp;:cfunc:`PyGILState_Release`&nbsp;calls&nbsp;as&nbsp;long</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_771">771+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;thread-related&nbsp;APIs&nbsp;may&nbsp;be&nbsp;used&nbsp;between&nbsp;:cfunc:`PyGILState_Ensure`&nbsp;and</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_753">753-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;as&nbsp;the&nbsp;thread&nbsp;state&nbsp;is&nbsp;restored&nbsp;to&nbsp;its&nbsp;previous&nbsp;state&nbsp;before&nbsp;the&nbsp;Release().&nbsp;&nbsp;For</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_772">772+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_Release`&nbsp;calls&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;thread&nbsp;state&nbsp;is&nbsp;restored&nbsp;to</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__23"></td><td class="diff_header" id="from5_754">754-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;example,&nbsp;normal&nbsp;usage&nbsp;of&nbsp;the&nbsp;:cmacro:`Py_BEGIN_ALLOW_THREADS`&nbsp;and</span></td></tr>
<tr><td class="diff_next" id="difflib_chg_to5__23"></td><td class="diff_header" id="to5_773">773+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;its&nbsp;previous&nbsp;state&nbsp;before&nbsp;the&nbsp;Release().&nbsp;&nbsp;For&nbsp;example,&nbsp;normal&nbsp;usage&nbsp;of&nbsp;the</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_755">755-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;:cmacro:`Py_END_ALLOW_THREADS`&nbsp;macros&nbsp;is&nbsp;acceptable.</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_774">774+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;:cmacro:`Py_BEGIN_ALLOW_THREADS`&nbsp;and&nbsp;:cmacro:`Py_END_ALLOW_THREADS`&nbsp;macros&nbsp;is</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_775">775+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;&nbsp;&nbsp;acceptable.</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_756">756</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_757">757</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;The&nbsp;return&nbsp;value&nbsp;is&nbsp;an&nbsp;opaque&nbsp;"handle"&nbsp;to&nbsp;the&nbsp;thread&nbsp;state&nbsp;when</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__23">n</a></td><td class="diff_header" id="from5_758">758-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_<span class="diff_chg">Acq</span>u<span class="diff_sub">i</span>re`&nbsp;was&nbsp;called,&nbsp;and&nbsp;must&nbsp;be&nbsp;passed&nbsp;to</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__23">n</a></td><td class="diff_header" id="to5_778">778+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_<span class="diff_chg">Ens</span>ure`&nbsp;was&nbsp;called,&nbsp;and&nbsp;must&nbsp;be&nbsp;passed&nbsp;to</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_759">759</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_Release`&nbsp;to&nbsp;ensure&nbsp;Python&nbsp;is&nbsp;left&nbsp;in&nbsp;the&nbsp;same&nbsp;state.&nbsp;Even</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_760">760</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;though&nbsp;recursive&nbsp;calls&nbsp;are&nbsp;allowed,&nbsp;these&nbsp;handles&nbsp;*cannot*&nbsp;be&nbsp;shared&nbsp;-&nbsp;each</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__24">n</a></td><td class="diff_header" id="from5_761">761-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;unique&nbsp;call&nbsp;to&nbsp;:cfunc:`PyGILState_Ensure`&nbsp;must&nbsp;save&nbsp;the&nbsp;handle&nbsp;for&nbsp;its&nbsp;call<span class="diff_sub">&nbsp;to</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__24">n</a></td><td class="diff_header" id="to5_781">781+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;unique&nbsp;call&nbsp;to&nbsp;:cfunc:`PyGILState_Ensure`&nbsp;must&nbsp;save&nbsp;the&nbsp;handle&nbsp;for&nbsp;its&nbsp;call</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from5_762">762-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyGILState_Release`.</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to5_782">782+</td><td nowrap="nowrap">&nbsp;&nbsp;<span class="diff_add">&nbsp;to</span>&nbsp;:cfunc:`PyGILState_Release`.</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_763">763</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_764">764</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;When&nbsp;the&nbsp;function&nbsp;returns,&nbsp;the&nbsp;current&nbsp;thread&nbsp;will&nbsp;hold&nbsp;the&nbsp;GIL.&nbsp;Failure&nbsp;is&nbsp;a</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_765">765</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;fatal&nbsp;error.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_766">766</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_767">767</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;..&nbsp;versionadded::&nbsp;2.3</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_768">768</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_769">769</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_770">770</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;void&nbsp;PyGILState_Release(PyGILState_STATE)</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__24"></td><td class="diff_header" id="from5_897">897</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Set&nbsp;the&nbsp;tracing&nbsp;function&nbsp;to&nbsp;*func*.&nbsp;&nbsp;This&nbsp;is&nbsp;similar&nbsp;to</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_898">898</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:cfunc:`PyEval_SetProfile`,&nbsp;except&nbsp;the&nbsp;tracing&nbsp;function&nbsp;does&nbsp;receive&nbsp;line-number</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_899">899</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;events.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_900">900</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_901">901</td><td nowrap="nowrap">..&nbsp;cfunction::&nbsp;PyObject*&nbsp;PyEval_GetCallStats(PyObject&nbsp;*self)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_902">902</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_903">903</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;Return&nbsp;a&nbsp;tuple&nbsp;of&nbsp;function&nbsp;call&nbsp;counts.&nbsp;&nbsp;There&nbsp;are&nbsp;constants&nbsp;defined&nbsp;for&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_904">904</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;positions&nbsp;within&nbsp;the&nbsp;tuple:</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__25">n</a></td><td class="diff_header" id="from5_905">905-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__25">n</a></td><td class="diff_header" id="to5_925">925+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_906">906</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_907">907</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;Value&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_908">908</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+===============================+=======+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_909">909</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_ALL`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_910">910</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_911">911</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_FUNCTION`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_912">912</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_913">913</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_FAST_FUNCTION`&nbsp;&nbsp;|&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to5__25"></td><td class="diff_header" id="from5_923">923</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_TYPE`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_924">924</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_925">925</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_GENERATOR`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_926">926</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_927">927</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_OTHER`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_928">928</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_929">929</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;|&nbsp;:const:`PCALL_POP`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;|</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_930">930</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;+-------------------------------+-------+</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header" id="from5_931">931-</td><td nowrap="nowrap"><span class="diff_sub">&nbsp;&nbsp;&nbsp;</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to5__top">t</a></td><td class="diff_header" id="to5_951">951+</td><td nowrap="nowrap"><span class="diff_add">&nbsp;</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from5_932">932</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:const:`PCALL_FAST_FUNCTION`&nbsp;means&nbsp;no&nbsp;argument&nbsp;tuple&nbsp;needs&nbsp;to&nbsp;be&nbsp;created.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_933">933</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;:const:`PCALL_FASTER_FUNCTION`&nbsp;means&nbsp;that&nbsp;the&nbsp;fast-path&nbsp;frame&nbsp;setup&nbsp;code&nbsp;is&nbsp;used.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_934">934</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_935">935</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;method&nbsp;call&nbsp;where&nbsp;the&nbsp;call&nbsp;can&nbsp;be&nbsp;optimized&nbsp;by&nbsp;changing</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_936">936</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;the&nbsp;argument&nbsp;tuple&nbsp;and&nbsp;calling&nbsp;the&nbsp;function&nbsp;directly,&nbsp;it&nbsp;gets&nbsp;recorded</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_937">937</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;twice.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_938">938</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from5_939">939</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;This&nbsp;function&nbsp;is&nbsp;only&nbsp;present&nbsp;if&nbsp;Python&nbsp;is&nbsp;compiled&nbsp;with&nbsp;:const:`CALL_PROFILE`</td></tr>        </tbody>
        </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>