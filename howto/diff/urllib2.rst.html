
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>

<head>
    <meta http-equiv="Content-Type"
          content="text/html; charset=ISO-8859-1" />
    <title></title>
    <style type="text/css">
        table.diff {font-family:Courier; border:medium;}
        .diff_header {background-color:#e0e0e0}
        td.diff_header {text-align:right}
        .diff_next {background-color:#c0c0c0}
        .diff_add {background-color:#aaffaa}
        .diff_chg {background-color:#ffff77}
        .diff_sub {background-color:#ffaaaa}
    </style>
</head>

<body>
    
        <table class="diff" id="difflib_chg_to54__top"
               cellspacing="0" cellpadding="0" rules="groups" >
            <colgroup></colgroup> <colgroup></colgroup> <colgroup></colgroup>
            <thead><tr><th class="diff_next"><br /></th><th colspan="2" class="diff_header">r262/howto/urllib2.rst =&gt; r266/howto/urllib2.rst</th></tr></thead>
            <tbody>
                <tr><td class="diff_next" id="difflib_chg_to54__0"></td><td class="diff_header" id="from54_177">177</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_178">178</td><td nowrap="nowrap">The&nbsp;response&nbsp;also&nbsp;has&nbsp;two&nbsp;useful&nbsp;methods.&nbsp;See&nbsp;the&nbsp;section&nbsp;on&nbsp;`info&nbsp;and&nbsp;geturl`_</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_179">179</td><td nowrap="nowrap">which&nbsp;comes&nbsp;after&nbsp;we&nbsp;have&nbsp;a&nbsp;look&nbsp;at&nbsp;what&nbsp;happens&nbsp;when&nbsp;things&nbsp;go&nbsp;wrong.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_180">180</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_181">181</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_182">182</td><td nowrap="nowrap">Handling&nbsp;Exceptions</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_183">183</td><td nowrap="nowrap">===================</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_184">184</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to54__1">n</a></td><td class="diff_header" id="from54_185">185-</td><td nowrap="nowrap">*urlopen*&nbsp;raises&nbsp;:exc:`URLError`&nbsp;when&nbsp;it&nbsp;cannot&nbsp;handle&nbsp;a&nbsp;response&nbsp;(though&nbsp;as<span class="diff_sub">&nbsp;usual</span></td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to54__1">n</a></td><td class="diff_header" id="to54_185">185+</td><td nowrap="nowrap">*urlopen*&nbsp;raises&nbsp;:exc:`URLError`&nbsp;when&nbsp;it&nbsp;cannot&nbsp;handle&nbsp;a&nbsp;response&nbsp;(though&nbsp;as</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from54_186">186-</td><td nowrap="nowrap">with&nbsp;Python&nbsp;APIs,&nbsp;builtin&nbsp;exceptions&nbsp;such&nbsp;as</td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to54_186">186+</td><td nowrap="nowrap"><span class="diff_add">usual&nbsp;</span>with&nbsp;Python&nbsp;APIs,&nbsp;built<span class="diff_add">-</span>in&nbsp;exceptions&nbsp;such&nbsp;as<span class="diff_add">&nbsp;:exc:`ValueError`,</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from54_187">187-</td><td nowrap="nowrap"><span class="diff_sub">:exc:`ValueError`,&nbsp;:exc:`TypeError`&nbsp;etc.&nbsp;may&nbsp;also</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="to54_187">187+</td><td nowrap="nowrap"><span class="diff_add">:exc:`TypeError`&nbsp;etc.&nbsp;may&nbsp;also&nbsp;be&nbsp;raised).</span></td></tr>
<tr><td class="diff_next"></td><td class="diff_header" id="from54_188">188-</td><td nowrap="nowrap"><span class="diff_sub">be&nbsp;raised).</span></td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from54_189">189</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_190">190</td><td nowrap="nowrap">:exc:`HTTPError`&nbsp;is&nbsp;the&nbsp;subclass&nbsp;of&nbsp;:exc:`URLError`&nbsp;raised&nbsp;in&nbsp;the&nbsp;specific&nbsp;case&nbsp;of</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_191">191</td><td nowrap="nowrap">HTTP&nbsp;URLs.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_192">192</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_193">193</td><td nowrap="nowrap">URLError</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_194">194</td><td nowrap="nowrap">--------</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_195">195</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_196">196</td><td nowrap="nowrap">Often,&nbsp;URLError&nbsp;is&nbsp;raised&nbsp;because&nbsp;there&nbsp;is&nbsp;no&nbsp;network&nbsp;connection&nbsp;(no&nbsp;route&nbsp;to</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to54__1"></td><td class="diff_header" id="from54_306">306</td><td nowrap="nowrap">When&nbsp;an&nbsp;error&nbsp;is&nbsp;raised&nbsp;the&nbsp;server&nbsp;responds&nbsp;by&nbsp;returning&nbsp;an&nbsp;HTTP&nbsp;error&nbsp;code</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_307">307</td><td nowrap="nowrap">*and*&nbsp;an&nbsp;error&nbsp;page.&nbsp;You&nbsp;can&nbsp;use&nbsp;the&nbsp;:exc:`HTTPError`&nbsp;instance&nbsp;as&nbsp;a&nbsp;response&nbsp;on&nbsp;the</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_308">308</td><td nowrap="nowrap">page&nbsp;returned.&nbsp;This&nbsp;means&nbsp;that&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;code&nbsp;attribute,&nbsp;it&nbsp;also&nbsp;has&nbsp;read,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_309">309</td><td nowrap="nowrap">geturl,&nbsp;and&nbsp;info,&nbsp;methods.&nbsp;::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_310">310</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_311">311</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;req&nbsp;=&nbsp;urllib2.Request('http://www.python.org/fish.html')</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_312">312</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;try:</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_313">313</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;urllib2.urlopen(req)</td></tr><tr><td class="diff_next"><a href="#difflib_chg_to54__2">n</a></td><td class="diff_header" id="from54_314">314-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;except&nbsp;<span class="diff_chg">URL</span>Error,&nbsp;e:</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to54__2">n</a></td><td class="diff_header" id="to54_313">313+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;except&nbsp;<span class="diff_chg">HTTP</span>Error,&nbsp;e:</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from54_315">315</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;e.code</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_316">316</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;e.read()</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_317">317</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_318">318</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;404</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_319">319</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;"-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN"</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_320">320</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"http://www.w3.org/TR/html4/loose.dtd"&gt;</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_321">321</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&lt;?xml-stylesheet&nbsp;href="./css/ht2html.css"</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_322">322</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type="text/css"?&gt;</td></tr>        </tbody>        
        <tbody>
            <tr><td class="diff_next" id="difflib_chg_to54__2"></td><td class="diff_header" id="from54_483">483</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;opener.open(a_url)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_484">484</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_485">485</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Install&nbsp;the&nbsp;opener.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_486">486</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Now&nbsp;all&nbsp;calls&nbsp;to&nbsp;urllib2.urlopen&nbsp;use&nbsp;our&nbsp;opener.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_487">487</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;urllib2.install_opener(opener)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_488">488</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_489">489</td><td nowrap="nowrap">..&nbsp;note::</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_490">490</td><td nowrap="nowrap"></td></tr><tr><td class="diff_next"><a href="#difflib_chg_to54__top">t</a></td><td class="diff_header" id="from54_491">491-</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;above&nbsp;example&nbsp;we&nbsp;only&nbsp;supplied&nbsp;our&nbsp;``H<span class="diff_chg">H</span>TPBasicAuthHandler``&nbsp;to</td></tr>
<tr><td class="diff_next"><a href="#difflib_chg_to54__top">t</a></td><td class="diff_header" id="to54_490">490+</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;the&nbsp;above&nbsp;example&nbsp;we&nbsp;only&nbsp;supplied&nbsp;our&nbsp;``H<span class="diff_chg">T</span>TPBasicAuthHandler``&nbsp;to</td></tr>
            <tr><td class="diff_next"></td><td class="diff_header" id="from54_492">492</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;``build_opener``.&nbsp;By&nbsp;default&nbsp;openers&nbsp;have&nbsp;the&nbsp;handlers&nbsp;for&nbsp;normal&nbsp;situations</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_493">493</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;``ProxyHandler``,&nbsp;``UnknownHandler``,&nbsp;``HTTPHandler``,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_494">494</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;``HTTPDefaultErrorHandler``,&nbsp;``HTTPRedirectHandler``,&nbsp;``FTPHandler``,</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_495">495</td><td nowrap="nowrap">&nbsp;&nbsp;&nbsp;&nbsp;``FileHandler``,&nbsp;``HTTPErrorProcessor``.</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_496">496</td><td nowrap="nowrap"></td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_497">497</td><td nowrap="nowrap">``top_level_url``&nbsp;is&nbsp;in&nbsp;fact&nbsp;*either*&nbsp;a&nbsp;full&nbsp;URL&nbsp;(including&nbsp;the&nbsp;'http:'&nbsp;scheme</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_498">498</td><td nowrap="nowrap">component&nbsp;and&nbsp;the&nbsp;hostname&nbsp;and&nbsp;optionally&nbsp;the&nbsp;port&nbsp;number)</td></tr>            <tr><td class="diff_next"></td><td class="diff_header" id="from54_499">499</td><td nowrap="nowrap">e.g.&nbsp;"http://example.com/"&nbsp;*or*&nbsp;an&nbsp;"authority"&nbsp;(i.e.&nbsp;the&nbsp;hostname,</td></tr>        </tbody>
        </table>
    <table class="diff" summary="Legends">
        <tr> <th colspan="2"> Legends </th> </tr>
        <tr> <td> <table border="" summary="Colors">
                      <tr><th> Colors </th> </tr>
                      <tr><td class="diff_add">&nbsp;Added&nbsp;</td></tr>
                      <tr><td class="diff_chg">Changed</td> </tr>
                      <tr><td class="diff_sub">Deleted</td> </tr>
                  </table></td>
             <td> <table border="" summary="Links">
                      <tr><th colspan="2"> Links </th> </tr>
                      <tr><td>(f)irst change</td> </tr>
                      <tr><td>(n)ext change</td> </tr>
                      <tr><td>(t)op</td> </tr>
                  </table></td> </tr>
    </table>
</body>

</html>