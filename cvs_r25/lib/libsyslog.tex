\section{\module{syslog} ---
         \UNIX{} syslog ライブラリルーチン群}

\declaremodule{builtin}{syslog}
  \platform{Unix}
\modulesynopsis{\UNIX\ syslog ライブラリルーチン群へのインタフェース。}


このモジュールでは \UNIX{} \code{syslog} ライブラリルーチン群への
インタフェースを提供します。\code{syslog} の便宜レベルに関する詳細な記述
は \UNIX{} マニュアルページを参照してください。

このモジュールでは以下の関数を定義しています:


\begin{funcdesc}{syslog}{\optional{priority,} message}
文字列 \var{message} をシステムログ機構に送信します。末尾の改行文字
は必要に応じて追加されます。各メッセージは \var{facility} および
\var{level} からなる優先度でタグ付けされます。オプションの
\var{priority} 引数はメッセージの優先度を定義します。標準の
値は \constant{LOG_INFO} です。\var{priority} 中に、便宜レベルが 
(\code{LOG_INFO | LOG_USER} のように) 論理和を使ってコード化されて
いない場合、\function{openlog()} を呼び出した際の値が使われます。
\end{funcdesc}

\begin{funcdesc}{openlog}{ident\optional{, logopt\optional{, facility}}}
標準以外のログオプションは、\function{syslog()} の呼び出しに先立って
\function{openlog()} でログファイルを開く際、明示的に設定することができます。
標準の値は (通常) \var{indent} = \code{'syslog'}、
\var{logopt} = \code{0}、\var{facility} = \constant{LOG_USER} です。
\var{ident} 引数は全てのメッセージの先頭に付加する文字列です。
オプションの \var{logopt} 引数はビットフィールドの値になります -
とりうる組み合わせ値については以下を参照してください。
オプションの \var{facility} 引数は、便宜レベルコードの設定が
明示的になされていないメッセージに対する、標準の便宜レベルを設定します。
\end{funcdesc}

\begin{funcdesc}{closelog}{}
ログファイルを閉じます。
\end{funcdesc}

\begin{funcdesc}{setlogmask}{maskpri}
優先度マスクを \var{maskpri} に設定し、以前のマスク値を返します。
\var{maskpri} に設定されていない優先度レベルを持った \function{syslog()}
の呼び出しは無視されます。標準では全ての優先度をログ出力します。
関数 \code{LOG_MASK(\var{pri})} は個々の優先度 \var{pri} に対する
優先度マスクを計算します。関数 \code{LOG_UPTO(\var{pri})} は優先度
\var{pri} までの全ての優先度を含むようなマスクを計算します。
\end{funcdesc}


このモジュールでは以下の定数を定義しています:

\begin{description}

\item[優先度 (高い優先度順):]

\constant{LOG_EMERG}、 \constant{LOG_ALERT}、 \constant{LOG_CRIT}、
\constant{LOG_ERR}、 \constant{LOG_WARNING}、 \constant{LOG_NOTICE}、
\constant{LOG_INFO}、 \constant{LOG_DEBUG}。

\item[便宜レベル:]

\constant{LOG_KERN}、 \constant{LOG_USER}、 \constant{LOG_MAIL}、
\constant{LOG_DAEMON}、 \constant{LOG_AUTH}、 \constant{LOG_LPR}、
\constant{LOG_NEWS}、 \constant{LOG_UUCP}、 \constant{LOG_CRON}、および
\constant{LOG_LOCAL0} から \constant{LOG_LOCAL7}。

\item[ログオプション:]

\code{<syslog.h>} で定義されている場合、
\constant{LOG_PID}、 \constant{LOG_CONS}、 \constant{LOG_NDELAY}、
\constant{LOG_NOWAIT}、および \constant{LOG_PERROR}。

\end{description}
