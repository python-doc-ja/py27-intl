\section{\module{regsub} ---
         正規表現を使った文字列操作}

\declaremodule{standard}{regsub}
\modulesynopsis{正規表現を使う
                置換と分割操作。\strong{廃止!}}


このモジュールは、正規表現(組み込みモジュール \refmodule{regex}参照)と共に
使って作業をするのに役立つ多くの関数を定義しています。

警告：これらの関数はスレッドセーフではありません。

\strong{廃止 注：}
このモジュールは Python バージョン 1.5 のものとして廃止されています；
多くの既存のコードがこれをまだ使っているので保守されています。正規表現を
必要とする新しいコードは、すべて新しい \refmodule{re} モジュールを
使うべきです。それはより強力で、正式な Perl スタイルの正規表現をサポートしています。
既存のコードは変換すべきです。標準ライブラリモジュール
\module{reconvert} を使うと、
\refmodule{regex} スタイル の正規表現を \refmodule{re} スタイルの正規表現に変換するのに
役立ちます。(変換に関するこれ以上のヘルプについては、
 Andrew Kuchling の\index{Kuchling, Andrew}
\url{http://www.python.org/doc/howto/regex-to-re/}での
 ``regex-to-re HOWTO'' を見て下さい )。


\begin{funcdesc}{sub}{pat, repl, str}
文字列 \var{str} に最初に出現するパターン \var{pat}を、
置換文字列 \var{repl}で置き換えます。もしそのパターンが見つからなければ、
文字列が変更されずに返されます。このパターンは文字列でも、あるいは、
すでにコンパイル済みのパターンでも構いません。置換文字列には、サブパターンへの
参照 \samp{\e \var{digit}}やエスケープされたバックスラッシュを含めることができます。
\end{funcdesc}

\begin{funcdesc}{gsub}{pat, repl, str}
文字列 \var{str}に(部分的に重ならずに)出現するパターン \var{pat}をすべて、
置換文字列 \var{repl}で置き換えます。\code{sub()} のものと
同じ規則が適用されます。パターンとの空のマッチは、以前のマッチと
隣り合わない時だけ置換されるので、例えば、
\code{gsub('', '-', 'abc')} は \code{'-a-b-c-'}を返します。
\end{funcdesc}

\begin{funcdesc}{split}{str, pat\optional{, maxsplit}}
文字列 \var{str} を、パターン \var{pat} とマッチする
デリミタで分割されたフィールドに分割して、そのフィールドを含むリストを返します。
パターンとの空でないマッチしか考慮されていないので、例えば、
\code{split('a:b', ':*')} は \code{['a', 'b']} を返し、
\code{split('abc', '')} は \code{['abc']} を返します。
 \var{maxsplit} はデフォールトで 0 です。もしこれがゼロでなければ、
  \var{maxsplit} 回だけ分割が発生し、リストの最後の要素として、残りの
  文字列が返されます。
\end{funcdesc}

\begin{funcdesc}{splitx}{str, pat\optional{, maxsplit}}
文字列 \var{str} を、パターン \var{pat} とマッチする
デリミタで分割されたフィールドに分割して、そのフィールドと
セパレータを含むリストを返します。例えば、
 \code{splitx('a:::b', ':*')} は、\code{['a', ':::', 'b']} を返します。
それ以外は、この関数は \code{split}と同じように動作します。
\end{funcdesc}

\begin{funcdesc}{capwords}{s\optional{, pat}}
省略可能なパターン \var{pat}で分割された語を大文字化します。デフォールトの
パターンは、単語のデリミタとして、英字、数字および下線以外の任意の文字を使います。
大文字化とは、各語の最初の文字を大文字に変更することです。
\end{funcdesc}

\begin{funcdesc}{clear_cache}{}
regsub モジュールは、正規表現がコンパイルされた時、
正規表現文字列と regex モジュールのシンタックスをキーにして、
コンパイルされた正規表現のキャッシュを保持しています。
この関数はそのキャッシュをクリアします。
\end{funcdesc}
